{"config":{"lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Shioaji \u00b6 Shioaji is the most pythonic API for trading the Taiwan and global financial market. You can integrated your favorite Python packages such as NumPy, pandas, PyTorch or TensorFlow to build your trading model with the Shioaji API on cross-platform. We are in early-release alpha. Expect some adventures and rough edges. The key features are: Fast: High performance with c++ implement core and FPGA event broker. Easy: Designed to be easy to use and learn. Fast to code: With native python to integrate with large python ecosystem. Cross-Platform: The first one python trading API with Linux compatible in Taiwan. Installation \u00b6 Binaries \u00b6 simple using pip to install pip install shioaji update shioaji with pip install -U shioaji Docker Image \u00b6 simple run with interactive mode in docker docker run -it sinotrade/shioaji:latest run with jupyter lab or notebook docker run -p 8888:8888 sinotrade/shioaji:jupyter","title":"Overview"},{"location":"#shioaji","text":"Shioaji is the most pythonic API for trading the Taiwan and global financial market. You can integrated your favorite Python packages such as NumPy, pandas, PyTorch or TensorFlow to build your trading model with the Shioaji API on cross-platform. We are in early-release alpha. Expect some adventures and rough edges. The key features are: Fast: High performance with c++ implement core and FPGA event broker. Easy: Designed to be easy to use and learn. Fast to code: With native python to integrate with large python ecosystem. Cross-Platform: The first one python trading API with Linux compatible in Taiwan.","title":"Shioaji"},{"location":"#installation","text":"","title":"Installation"},{"location":"#binaries","text":"simple using pip to install pip install shioaji update shioaji with pip install -U shioaji","title":"Binaries"},{"location":"#docker-image","text":"simple run with interactive mode in docker docker run -it sinotrade/shioaji:latest run with jupyter lab or notebook docker run -p 8888:8888 sinotrade/shioaji:jupyter","title":"Docker Image"},{"location":"quickstart/","text":"Initialization \u00b6 import shioaji as sj api = sj . Shioaji () accounts = api . login ( \"YOUR_PERSON_ID\" , \"YOUR_PASSWORD\" ) api . activate_ca ( ca_path = \"/c/your/ca/path/Sinopac.pfx\" , ca_passwd = \"YOUR_CA_PASSWORD\" , person_id = \"Person of this Ca\" , ) Just import our API library like other popular python library and new the instance to start using our API. Login your account and activate the certification then you can start placing order. The Certification Path In Windows you copy the file path with \\ to separate the file, you need to replace it with / . Streaming Market Data \u00b6 api . quote . subscribe ( api . Contracts . Stocks [ \"2330\" ], quote_type = \"tick\" ) api . quote . subscribe ( api . Contracts . Stocks [ \"2330\" ], quote_type = \"bidask\" ) api . quote . subscribe ( api . Contracts . Futures [ \"TXFC0\" ], quote_type = \"tick\" ) Subscribe the real time market data. Simplely pass contract into quote subscribe function and give the quote type will receive the streaming data. Quote Type Currently we support two quote type you can see in shioaji . constent . QuoteType . The best way to use that is directly pass this enum into subscribe function. Place Order \u00b6 contract = api . Contracts . Stocks [ \"2890\" ] order = api . Order ( price = 12 , quantity = 5 , action = sj . constant . Action . Buy , price_type = sj . constant . StockPriceType . LMT , order_type = sj . constant . StockOrderType . Common , ) trade = api . place_order ( contract , order ) Like the above subscribing market data using the contract, then need to define the order. Pass them into place_order function, then it will return the trade that describe the status of your order. Conclusion \u00b6 This quickstart demonstrates how easy to use our package for native Python users. Unlike many other trading API is hard for Python developer. We focus on making more pythonic trading API for our users.","title":"Quick Start"},{"location":"quickstart/#initialization","text":"import shioaji as sj api = sj . Shioaji () accounts = api . login ( \"YOUR_PERSON_ID\" , \"YOUR_PASSWORD\" ) api . activate_ca ( ca_path = \"/c/your/ca/path/Sinopac.pfx\" , ca_passwd = \"YOUR_CA_PASSWORD\" , person_id = \"Person of this Ca\" , ) Just import our API library like other popular python library and new the instance to start using our API. Login your account and activate the certification then you can start placing order. The Certification Path In Windows you copy the file path with \\ to separate the file, you need to replace it with / .","title":"Initialization"},{"location":"quickstart/#streaming-market-data","text":"api . quote . subscribe ( api . Contracts . Stocks [ \"2330\" ], quote_type = \"tick\" ) api . quote . subscribe ( api . Contracts . Stocks [ \"2330\" ], quote_type = \"bidask\" ) api . quote . subscribe ( api . Contracts . Futures [ \"TXFC0\" ], quote_type = \"tick\" ) Subscribe the real time market data. Simplely pass contract into quote subscribe function and give the quote type will receive the streaming data. Quote Type Currently we support two quote type you can see in shioaji . constent . QuoteType . The best way to use that is directly pass this enum into subscribe function.","title":"Streaming Market Data"},{"location":"quickstart/#place-order","text":"contract = api . Contracts . Stocks [ \"2890\" ] order = api . Order ( price = 12 , quantity = 5 , action = sj . constant . Action . Buy , price_type = sj . constant . StockPriceType . LMT , order_type = sj . constant . StockOrderType . Common , ) trade = api . place_order ( contract , order ) Like the above subscribing market data using the contract, then need to define the order. Pass them into place_order function, then it will return the trade that describe the status of your order.","title":"Place Order"},{"location":"quickstart/#conclusion","text":"This quickstart demonstrates how easy to use our package for native Python users. Unlike many other trading API is hard for Python developer. We focus on making more pythonic trading API for our users.","title":"Conclusion"},{"location":"release/","text":"version: 0.3.0.dev8 (2020-09-17) \u00b6 feat: add intraday odd lot trading (add IntradayOdd on order_lot ) fix: update order price commit_id: a001411a release_at: 2020-09-17 07:05:47.799 version: 0.3.0.dev7 (2020-09-10) \u00b6 fix: http accttype in AccountType fix: name error, replace dowm to down enhance: update pysolace to 0.9.7 commit_id: efc6d5b5 release_at: 2020-09-10 06:03:13.335 version: 0.3.0.dev6 (2020-08-21) \u00b6 feat: add Emerging on StockOrderCond enhance: data category api timeout default from 5 to 30 seconds. (ticks, kbars and snapshots) commit_id: dcee2648 release_at: 2020-08-21 03:30:35.218 version: 0.3.0.dev5 (2020-08-10) \u00b6 enhance: add token error enhance: add system maintenance exception commit_id: cc094c9e release_at: 2020-08-10 07:35:56.419 version: 0.3.0.dev4 (2020-07-21) \u00b6 feat: kbars feat: profit loss detail commit_id: b4590577 release_at: 2020-07-21 07:26:01.299 version: 0.3.0.dev3 (2020-07-15) \u00b6 feat: account balance commit_id: b613fc9c release_at: 2020-07-15 07:47:24.400 version: 0.3.0.dev2 (2020-07-03) \u00b6 chore: update pysoalce 0.9.6 enhance: speed \u200b\u200bup for fetch contract enhance: support error tracking control commit_id: 1abc2810 release_at: 2020-07-03 07:29:42.125 version: 0.3.0.dev0 (2020-06-19) \u00b6 chore: update pysolace to 0.9.5 feat: support macos commit_id: 28051304 release_at: 2020-06-19 00:21:23.867 version: 0.2.1.dev9 (2020-06-11) \u00b6 chore: modified API simulation environment IP port commit_id: e924c5a6 release_at: 2020-06-11 05:24:59.613 version: 0.2.1.dev8 (2020-06-11) \u00b6 chore: modified API simulation environment IP commit_id: cba02448 release_at: 2020-06-11 02:22:53.277 version: 0.2.1.dev7 (2020-06-11) \u00b6 feat: api simulation environment commit_id: b97c396a release_at: 2020-06-11 01:29:51.794 version: 0.2.1.dev6 (2020-05-27) \u00b6 feat: settlement commit_id: ac3d403a release_at: 2020-05-27 07:38:03.363 version: 0.2.1.dev5 (2020-05-25) \u00b6 feat: add margin_trading, short_selling balance on contracts enhance: contracts awaitable commit_id: 046599ce release_at: 2020-05-25 03:00:40.985 version: 0.2.1.dev4 (2020-05-19) \u00b6 fix: forder reply commit_id: 03470a35 release_at: 2020-05-19 02:42:02.859 version: 0.2.1.dev3 (2020-05-18) \u00b6 feat: add stock profit loss feat: short_stock_sources add ts commit_id: dcb6d9b1 release_at: 2020-05-18 07:13:32.495","title":"Release Note"},{"location":"release/#version-030dev8-2020-09-17","text":"feat: add intraday odd lot trading (add IntradayOdd on order_lot ) fix: update order price commit_id: a001411a release_at: 2020-09-17 07:05:47.799","title":"version: 0.3.0.dev8 (2020-09-17)"},{"location":"release/#version-030dev7-2020-09-10","text":"fix: http accttype in AccountType fix: name error, replace dowm to down enhance: update pysolace to 0.9.7 commit_id: efc6d5b5 release_at: 2020-09-10 06:03:13.335","title":"version: 0.3.0.dev7 (2020-09-10)"},{"location":"release/#version-030dev6-2020-08-21","text":"feat: add Emerging on StockOrderCond enhance: data category api timeout default from 5 to 30 seconds. (ticks, kbars and snapshots) commit_id: dcee2648 release_at: 2020-08-21 03:30:35.218","title":"version: 0.3.0.dev6 (2020-08-21)"},{"location":"release/#version-030dev5-2020-08-10","text":"enhance: add token error enhance: add system maintenance exception commit_id: cc094c9e release_at: 2020-08-10 07:35:56.419","title":"version: 0.3.0.dev5 (2020-08-10)"},{"location":"release/#version-030dev4-2020-07-21","text":"feat: kbars feat: profit loss detail commit_id: b4590577 release_at: 2020-07-21 07:26:01.299","title":"version: 0.3.0.dev4 (2020-07-21)"},{"location":"release/#version-030dev3-2020-07-15","text":"feat: account balance commit_id: b613fc9c release_at: 2020-07-15 07:47:24.400","title":"version: 0.3.0.dev3 (2020-07-15)"},{"location":"release/#version-030dev2-2020-07-03","text":"chore: update pysoalce 0.9.6 enhance: speed \u200b\u200bup for fetch contract enhance: support error tracking control commit_id: 1abc2810 release_at: 2020-07-03 07:29:42.125","title":"version: 0.3.0.dev2 (2020-07-03)"},{"location":"release/#version-030dev0-2020-06-19","text":"chore: update pysolace to 0.9.5 feat: support macos commit_id: 28051304 release_at: 2020-06-19 00:21:23.867","title":"version: 0.3.0.dev0 (2020-06-19)"},{"location":"release/#version-021dev9-2020-06-11","text":"chore: modified API simulation environment IP port commit_id: e924c5a6 release_at: 2020-06-11 05:24:59.613","title":"version: 0.2.1.dev9 (2020-06-11)"},{"location":"release/#version-021dev8-2020-06-11","text":"chore: modified API simulation environment IP commit_id: cba02448 release_at: 2020-06-11 02:22:53.277","title":"version: 0.2.1.dev8 (2020-06-11)"},{"location":"release/#version-021dev7-2020-06-11","text":"feat: api simulation environment commit_id: b97c396a release_at: 2020-06-11 01:29:51.794","title":"version: 0.2.1.dev7 (2020-06-11)"},{"location":"release/#version-021dev6-2020-05-27","text":"feat: settlement commit_id: ac3d403a release_at: 2020-05-27 07:38:03.363","title":"version: 0.2.1.dev6 (2020-05-27)"},{"location":"release/#version-021dev5-2020-05-25","text":"feat: add margin_trading, short_selling balance on contracts enhance: contracts awaitable commit_id: 046599ce release_at: 2020-05-25 03:00:40.985","title":"version: 0.2.1.dev5 (2020-05-25)"},{"location":"release/#version-021dev4-2020-05-19","text":"fix: forder reply commit_id: 03470a35 release_at: 2020-05-19 02:42:02.859","title":"version: 0.2.1.dev4 (2020-05-19)"},{"location":"release/#version-021dev3-2020-05-18","text":"feat: add stock profit loss feat: short_stock_sources add ts commit_id: dcb6d9b1 release_at: 2020-05-18 07:13:32.495","title":"version: 0.2.1.dev3 (2020-05-18)"},{"location":"misc/CA/","text":"1. SinoPac Securities download eleader \u00b6 2. Login eleader \u00b6 3. \u5e33\u6236\u8cc7\u6599 -> (3303)\u5e33\u865f\u8cc7\u6599\u8a2d\u5b9a \u00b6 4. Click \"\u6b65\u9a5f\u8aaa\u660e\" \u00b6 5. CA \u64cd\u4f5c\u6b65\u9a5f\u8aaa\u660e \u00b6","title":"CA"},{"location":"misc/CA/#1-sinopac-securities-download-eleader","text":"","title":"1. SinoPac Securities download eleader"},{"location":"misc/CA/#2-login-eleader","text":"","title":"2. Login eleader"},{"location":"misc/CA/#3-3303","text":"","title":"3. \u5e33\u6236\u8cc7\u6599 -&gt; (3303)\u5e33\u865f\u8cc7\u6599\u8a2d\u5b9a"},{"location":"misc/CA/#4-click","text":"","title":"4. Click \"\u6b65\u9a5f\u8aaa\u660e\""},{"location":"misc/CA/#5-ca","text":"","title":"5. CA \u64cd\u4f5c\u6b65\u9a5f\u8aaa\u660e"},{"location":"tutor/contract/","text":"Login Fetch Contracts \u00b6 First, you need login. \u00b6 After login success we will start to fetch all kind of contract but fetching will not block other action. So how to know the fetch action is done ? We have contracts_cb in login function that you can pass your customize function define how to do when the contract fetched. In this exmaple, we just print what kind of contract when it has been fetched. contracts_timeout If you set contracts_timeout inside login from 0 to 10000, it will block the fetch and wait 10 second until the contract is back. If you set contract_cb (contract callback) as prine, it will print \"SecurityType.Index, SecurityType.Stock, SecurityType.Future, SecurityType.Option \" until the contract is back. api . login ( person_id = 'YOUR_ID' , passwd = 'YOUR_PASSWORD' , contracts_timeout = 10000 , contracts_cb = print , ) Contracts \u00b6 In api . Contracts Out Contracts ( Indexs = ( OTC , TSE ), Stocks = ( OES , OTC , TSE ), Futures = ( BRF , CAF , CBF , CCF , CDF , CEF , CFF , CGF , CHF , CJF , CK1 , CKF , CLF , CM1 , CMF , CNF , CQF , CRF , CSF , CU1 , CUF , CWF , CXF , CYF , CZ1 , CZF , DCF , DD1 , DDF , DEF , DFF , DGF , DHF , DIF , DJF , DKF , DLF , DNF , DOF , DPF , DQF , DSF , DUF , DVF , DWF , DXF , DYF , DZF , EEF , EGF , EHF , EMF , EPF , ERF , EXF , EY1 , EYF , FEF , FFF , FGF , FKF , FQF , FRF , FTF , FVF , FWF , FXF , FYF , FZF , G2F , GAF , GCF , GDF , GHF , GIF , GJF , GLF , GMF , GNF , GOF , GRF , GTF , GUF , GWF , GXF , GZF , HAF , HBF , HCF , HHF , HIF , HLF , HOF , HS1 , HSF , HY1 , HYF , IA1 , IAF , IHF , IIF , IJF , IMF , IOF , IPF , IQF , IRF , ITF , IXF , IYF , IZF , JBF , JFF , JNF , JPF , JSF , JWF , JZF , KAF , KB1 , KBF , KCF , KDF , KFF , KGF , KIF , KKF , KLF , KOF , KPF , KSF , KWF , LBF , LCF , LE1 , LEF , LIF , LMF , LOF , LQF , LRF , LTF , LUF , LVF , LWF , LXF , LYF , MAF , MBF , MCF , MJF , MKF , MPF , MQF , MVF , MX1 , MXF , MYF , NAF , NBF , NCF , NDF , NEF , NGF , NHF , NIF , NJF , NLF , NMF , NNF , NOF , NQF , NSF , NUF , NVF , NWF , NXF , NYF , NZF , OAF , OBF , OCF , ODF , OEF , OGF , OHF , OJF , OKF , OLF , OMF , OOF , OPF , OQF , ORF , OS1 , OSF , OTF , OUF , OVF , OWF , OXF , OYF , OZF , PAF , PBF , PCF , PDF , PEF , PFF , PGF , PHF , PIF , PJF , PKF , PLF , PMF , PNF , POF , PPF , PQF , RHF , RTF , SPF , T5F , TGF , TJF , TXF , UDF , UNF , XAF , XBF , XEF , XIF , XJF ), Options = ( CAO , CBO , CCO , CDO , CEO , CFO , CGO , CHO , CJO , CKO , CLO , CMO , CNO , CQO , CRO , CSO , CXO , CZO , DCO , DEO , DFO , DGO , DHO , DJO , DKO , DLO , DNO , DOO , DPO , DQO , DSO , DUO , DVO , DWO , DXO , GIO , GXO , HCO , IJO , LOO , NYA , NYO , NZO , OAO , OBO , OCO , OJO , OKO , OOO , OZO , RHO , RTO , TEO , TFO , TGO , TX1 , TXO )) If your contracts have been downloaded, will see the output like above. If part of that kind contract download not yet, It will still be None . Stock Contract \u00b6 In contract_2890 = api . Contracts . Stocks [ \"2890\" ] contract_2890 Out Stock ( exchange =< Exchange . TSE : 'TSE' > , code = '2890' , symbol = 'TSE2890' , name = '\u6c38\u8c50\u91d1' , category = '17' , limit_up = 11.3 , limit_down = 9.27 , update_date = '2020/03/18' , day_trade =< DayTrade . Yes : 'Yes' > ) Attributes: exchange ( Exchange ): Attributes of industry . { OES , OTC , TSE ... etc } code ( str ): Id . symbol ( str ): Symbol . name ( str ): Name . category ( str ): Category . limit_up ( float ): Limit up . limit_down ( float ): Limit down . reference ( float ): Reference price . update_date ( str ): Update date . margin_trading_balance ( int ): Margin trading balance . short_selling_balance ( int ): Short selling balance . day_trade ( DayTrade ): Day trade . { Yes , No , None } Futures Contract \u00b6 In contract_txf = api . Contracts . Futures [ 'TXFC0' ] contract_txf = api . Contracts . Futures . TXF . TXF202003 contract_txf Out Future ( code = 'TXFC0' , symbol = 'TXF202003' , name = '\u81fa\u80a1\u671f\u8ca8' , category = 'TXF' , delivery_month = '202003' , underlying_kind = 'I' , limit_up = 10308.0 , limit_down = 8434.0 , update_date = '2020/03/18' ) Attributes: code ( str ): Id . symbol ( str ): Symbol . name ( str ): Name . category ( str ): Category . limit_up ( float ): Limit up . limit_down ( float ): Limit down . reference ( float ): Reference price . update_date ( str ): Update date . delivery_month ( str ): Delivery Month . underlying_kind ( str ): Underlying Kind . In above two highlight lines, you can get same contract with different way. Options Contract \u00b6 In api . Contracts . Options Out ( CAO , CBO , CCO , CDO , CEO , CFO , CGO , CHO , CJO , CKO , CLO , CMO , CNO , CQO , CRO , CSO , CXO , CZO , DCO , DEO , DFO , DGO , DHO , DJO , DKO , DLO , DNO , DOO , DPO , DQO , DSO , DUO , DVO , DWO , DXO , GIO , GXO , HCO , IJO , LOO , NYA , NYO , NZO , OAO , OBO , OCO , OJO , OKO , OOO , OZO , RHO , RTO , TEO , TFO , TGO , TX1 , TXO ) Options object show all avaiable options product. In api . Contracts . Options [ \"TXO10000C0\" ] Out Option ( code = 'TXO10000C0' , symbol = 'TXO202003010000C' , name = '\u81fa\u6307\u9078\u64c7\u6b0a' , category = 'TXO' , delivery_month = '202003' , strike_price = 10000.0 , option_right =< OptionRight . Call : 'C' > , underlying_kind = 'I' , limit_up = 945.0 , limit_down = 0.1 , update_date = '2020/03/18' ) Get options by code. In api . Contracts . Options . TX4 . TX420200308800P Out Option ( code = 'TX408800O0' , symbol = 'TX420200308800P' , name = '\u81fa\u6307\u9078\u64c7\u6b0a' , category = 'TX4' , delivery_month = '202003' , strike_price = 8800.0 , option_right =< OptionRight . Put : 'P' > , underlying_kind = 'I' , limit_up = 1090.0 , limit_down = 0.1 , update_date = '2020/03/18' ) Get options with readable way. In api . Contracts . Options . TXO . TXO202003010000P Out Option ( code = 'TXO10000O0' , symbol = 'TXO202003010000P' , name = '\u81fa\u6307\u9078\u64c7\u6b0a' , category = 'TXO' , delivery_month = '202003' , strike_price = 10000.0 , option_right =< OptionRight . Put : 'P' > , underlying_kind = 'I' , limit_up = 1570.0 , limit_down = 0.1 , update_date = '2020/03/18' ) Get put options with readable way. Attributes: code ( str ): Id . symbol ( str ): Symbol . name ( str ): Name . category ( str ): Category . limit_up ( float ): Limit up . limit_down ( float ): Limit down . reference ( float ): Reference price . update_date ( str ): Update date . delivery_month ( str ): Delivery Month . strike_price ( int or float ): Strike Price . option_right ( OptionRight ): Option Right . underlying_kind ( str ): Underlying Kind . Index Contract \u00b6 In api . Contracts . Indexs . TSE Out TSE ( TSE001 , TSE015 , TSE016 , TSE017 , TSE018 , TSE019 , TSE020 , TSE022 , TSE023 , TSE024 , TSE025 , TSE026 , TSE028 , TSE029 , TSE030 , TSE031 , TSE032 , TSE033 , TSE035 , TSE036 , TSE037 , TSE038 , TSE039 , TSE040 , TSE041 , TSE042 , TSE043 , TSE004 , TSE005 ) In api . Contracts . Indexs . TSE . TSE001 Out Index ( exchange =< Exchange . TSE : 'TSE' > , code = '001' , symbol = 'TSE001' , name = '\u52a0\u6b0a' ) Attributes: exchange ( Exchange ): Attributes of industry . { OES , OTC , TSE ... etc } code ( str ): Id . symbol ( str ): Symbol . name ( str ): Name . This contract is not avaiable to place order, but allow to subscribe the quote. It will be disuccess at next topic. Conclusion \u00b6 Contract object will be used by a lot of place like place order and subscribe quote etc... So Keep in mind how to get the contract you want to use.","title":"Contract"},{"location":"tutor/contract/#login-fetch-contracts","text":"","title":"Login Fetch Contracts"},{"location":"tutor/contract/#first-you-need-login","text":"After login success we will start to fetch all kind of contract but fetching will not block other action. So how to know the fetch action is done ? We have contracts_cb in login function that you can pass your customize function define how to do when the contract fetched. In this exmaple, we just print what kind of contract when it has been fetched. contracts_timeout If you set contracts_timeout inside login from 0 to 10000, it will block the fetch and wait 10 second until the contract is back. If you set contract_cb (contract callback) as prine, it will print \"SecurityType.Index, SecurityType.Stock, SecurityType.Future, SecurityType.Option \" until the contract is back. api . login ( person_id = 'YOUR_ID' , passwd = 'YOUR_PASSWORD' , contracts_timeout = 10000 , contracts_cb = print , )","title":"First, you need login."},{"location":"tutor/contract/#contracts","text":"In api . Contracts Out Contracts ( Indexs = ( OTC , TSE ), Stocks = ( OES , OTC , TSE ), Futures = ( BRF , CAF , CBF , CCF , CDF , CEF , CFF , CGF , CHF , CJF , CK1 , CKF , CLF , CM1 , CMF , CNF , CQF , CRF , CSF , CU1 , CUF , CWF , CXF , CYF , CZ1 , CZF , DCF , DD1 , DDF , DEF , DFF , DGF , DHF , DIF , DJF , DKF , DLF , DNF , DOF , DPF , DQF , DSF , DUF , DVF , DWF , DXF , DYF , DZF , EEF , EGF , EHF , EMF , EPF , ERF , EXF , EY1 , EYF , FEF , FFF , FGF , FKF , FQF , FRF , FTF , FVF , FWF , FXF , FYF , FZF , G2F , GAF , GCF , GDF , GHF , GIF , GJF , GLF , GMF , GNF , GOF , GRF , GTF , GUF , GWF , GXF , GZF , HAF , HBF , HCF , HHF , HIF , HLF , HOF , HS1 , HSF , HY1 , HYF , IA1 , IAF , IHF , IIF , IJF , IMF , IOF , IPF , IQF , IRF , ITF , IXF , IYF , IZF , JBF , JFF , JNF , JPF , JSF , JWF , JZF , KAF , KB1 , KBF , KCF , KDF , KFF , KGF , KIF , KKF , KLF , KOF , KPF , KSF , KWF , LBF , LCF , LE1 , LEF , LIF , LMF , LOF , LQF , LRF , LTF , LUF , LVF , LWF , LXF , LYF , MAF , MBF , MCF , MJF , MKF , MPF , MQF , MVF , MX1 , MXF , MYF , NAF , NBF , NCF , NDF , NEF , NGF , NHF , NIF , NJF , NLF , NMF , NNF , NOF , NQF , NSF , NUF , NVF , NWF , NXF , NYF , NZF , OAF , OBF , OCF , ODF , OEF , OGF , OHF , OJF , OKF , OLF , OMF , OOF , OPF , OQF , ORF , OS1 , OSF , OTF , OUF , OVF , OWF , OXF , OYF , OZF , PAF , PBF , PCF , PDF , PEF , PFF , PGF , PHF , PIF , PJF , PKF , PLF , PMF , PNF , POF , PPF , PQF , RHF , RTF , SPF , T5F , TGF , TJF , TXF , UDF , UNF , XAF , XBF , XEF , XIF , XJF ), Options = ( CAO , CBO , CCO , CDO , CEO , CFO , CGO , CHO , CJO , CKO , CLO , CMO , CNO , CQO , CRO , CSO , CXO , CZO , DCO , DEO , DFO , DGO , DHO , DJO , DKO , DLO , DNO , DOO , DPO , DQO , DSO , DUO , DVO , DWO , DXO , GIO , GXO , HCO , IJO , LOO , NYA , NYO , NZO , OAO , OBO , OCO , OJO , OKO , OOO , OZO , RHO , RTO , TEO , TFO , TGO , TX1 , TXO )) If your contracts have been downloaded, will see the output like above. If part of that kind contract download not yet, It will still be None .","title":"Contracts"},{"location":"tutor/contract/#stock-contract","text":"In contract_2890 = api . Contracts . Stocks [ \"2890\" ] contract_2890 Out Stock ( exchange =< Exchange . TSE : 'TSE' > , code = '2890' , symbol = 'TSE2890' , name = '\u6c38\u8c50\u91d1' , category = '17' , limit_up = 11.3 , limit_down = 9.27 , update_date = '2020/03/18' , day_trade =< DayTrade . Yes : 'Yes' > ) Attributes: exchange ( Exchange ): Attributes of industry . { OES , OTC , TSE ... etc } code ( str ): Id . symbol ( str ): Symbol . name ( str ): Name . category ( str ): Category . limit_up ( float ): Limit up . limit_down ( float ): Limit down . reference ( float ): Reference price . update_date ( str ): Update date . margin_trading_balance ( int ): Margin trading balance . short_selling_balance ( int ): Short selling balance . day_trade ( DayTrade ): Day trade . { Yes , No , None }","title":"Stock Contract"},{"location":"tutor/contract/#futures-contract","text":"In contract_txf = api . Contracts . Futures [ 'TXFC0' ] contract_txf = api . Contracts . Futures . TXF . TXF202003 contract_txf Out Future ( code = 'TXFC0' , symbol = 'TXF202003' , name = '\u81fa\u80a1\u671f\u8ca8' , category = 'TXF' , delivery_month = '202003' , underlying_kind = 'I' , limit_up = 10308.0 , limit_down = 8434.0 , update_date = '2020/03/18' ) Attributes: code ( str ): Id . symbol ( str ): Symbol . name ( str ): Name . category ( str ): Category . limit_up ( float ): Limit up . limit_down ( float ): Limit down . reference ( float ): Reference price . update_date ( str ): Update date . delivery_month ( str ): Delivery Month . underlying_kind ( str ): Underlying Kind . In above two highlight lines, you can get same contract with different way.","title":"Futures Contract"},{"location":"tutor/contract/#options-contract","text":"In api . Contracts . Options Out ( CAO , CBO , CCO , CDO , CEO , CFO , CGO , CHO , CJO , CKO , CLO , CMO , CNO , CQO , CRO , CSO , CXO , CZO , DCO , DEO , DFO , DGO , DHO , DJO , DKO , DLO , DNO , DOO , DPO , DQO , DSO , DUO , DVO , DWO , DXO , GIO , GXO , HCO , IJO , LOO , NYA , NYO , NZO , OAO , OBO , OCO , OJO , OKO , OOO , OZO , RHO , RTO , TEO , TFO , TGO , TX1 , TXO ) Options object show all avaiable options product. In api . Contracts . Options [ \"TXO10000C0\" ] Out Option ( code = 'TXO10000C0' , symbol = 'TXO202003010000C' , name = '\u81fa\u6307\u9078\u64c7\u6b0a' , category = 'TXO' , delivery_month = '202003' , strike_price = 10000.0 , option_right =< OptionRight . Call : 'C' > , underlying_kind = 'I' , limit_up = 945.0 , limit_down = 0.1 , update_date = '2020/03/18' ) Get options by code. In api . Contracts . Options . TX4 . TX420200308800P Out Option ( code = 'TX408800O0' , symbol = 'TX420200308800P' , name = '\u81fa\u6307\u9078\u64c7\u6b0a' , category = 'TX4' , delivery_month = '202003' , strike_price = 8800.0 , option_right =< OptionRight . Put : 'P' > , underlying_kind = 'I' , limit_up = 1090.0 , limit_down = 0.1 , update_date = '2020/03/18' ) Get options with readable way. In api . Contracts . Options . TXO . TXO202003010000P Out Option ( code = 'TXO10000O0' , symbol = 'TXO202003010000P' , name = '\u81fa\u6307\u9078\u64c7\u6b0a' , category = 'TXO' , delivery_month = '202003' , strike_price = 10000.0 , option_right =< OptionRight . Put : 'P' > , underlying_kind = 'I' , limit_up = 1570.0 , limit_down = 0.1 , update_date = '2020/03/18' ) Get put options with readable way. Attributes: code ( str ): Id . symbol ( str ): Symbol . name ( str ): Name . category ( str ): Category . limit_up ( float ): Limit up . limit_down ( float ): Limit down . reference ( float ): Reference price . update_date ( str ): Update date . delivery_month ( str ): Delivery Month . strike_price ( int or float ): Strike Price . option_right ( OptionRight ): Option Right . underlying_kind ( str ): Underlying Kind .","title":"Options Contract"},{"location":"tutor/contract/#index-contract","text":"In api . Contracts . Indexs . TSE Out TSE ( TSE001 , TSE015 , TSE016 , TSE017 , TSE018 , TSE019 , TSE020 , TSE022 , TSE023 , TSE024 , TSE025 , TSE026 , TSE028 , TSE029 , TSE030 , TSE031 , TSE032 , TSE033 , TSE035 , TSE036 , TSE037 , TSE038 , TSE039 , TSE040 , TSE041 , TSE042 , TSE043 , TSE004 , TSE005 ) In api . Contracts . Indexs . TSE . TSE001 Out Index ( exchange =< Exchange . TSE : 'TSE' > , code = '001' , symbol = 'TSE001' , name = '\u52a0\u6b0a' ) Attributes: exchange ( Exchange ): Attributes of industry . { OES , OTC , TSE ... etc } code ( str ): Id . symbol ( str ): Symbol . name ( str ): Name . This contract is not avaiable to place order, but allow to subscribe the quote. It will be disuccess at next topic.","title":"Index Contract"},{"location":"tutor/contract/#conclusion","text":"Contract object will be used by a lot of place like place order and subscribe quote etc... So Keep in mind how to get the contract you want to use.","title":"Conclusion"},{"location":"tutor/login/","text":"Login Shioaji \u00b6 Simulation Accounts If use simulation, we provide 10 of test accounts PAPIUSER01~PAPIUSER10 , the password both 2222 . In Production import shioaji as sj api = sj . Shioaji () api . login ( person_id = \"YOUR_ID\" , passwd = \"YOUR_PASSWORD\" , contracts_cb = lambda security_type : print ( f \" { repr ( security_type ) } fetch done.\" ) ) Simulation import shioaji as sj api = sj . Shioaji ( simulation = True ) api . login ( person_id = \"PAPIUSER01\" , passwd = \"2222\" , contracts_cb = lambda security_type : print ( f \" { repr ( security_type ) } fetch done.\" ) Out [ FutureAccount ( person_id = '' , broker_id = '' , account_id = '' , signed = True , username = '' ), StockAccount ( person_id = '' , broker_id = '' , account_id = '' , signed = True , username = '' )] < SecurityType . Index : 'IND' > fetch done . < SecurityType . Future : 'FUT' > fetch done . < SecurityType . Option : 'OPT' > fetch done . < SecurityType . Stock : 'STK' > fetch done .","title":"Login"},{"location":"tutor/login/#login-shioaji","text":"Simulation Accounts If use simulation, we provide 10 of test accounts PAPIUSER01~PAPIUSER10 , the password both 2222 . In Production import shioaji as sj api = sj . Shioaji () api . login ( person_id = \"YOUR_ID\" , passwd = \"YOUR_PASSWORD\" , contracts_cb = lambda security_type : print ( f \" { repr ( security_type ) } fetch done.\" ) ) Simulation import shioaji as sj api = sj . Shioaji ( simulation = True ) api . login ( person_id = \"PAPIUSER01\" , passwd = \"2222\" , contracts_cb = lambda security_type : print ( f \" { repr ( security_type ) } fetch done.\" ) Out [ FutureAccount ( person_id = '' , broker_id = '' , account_id = '' , signed = True , username = '' ), StockAccount ( person_id = '' , broker_id = '' , account_id = '' , signed = True , username = '' )] < SecurityType . Index : 'IND' > fetch done . < SecurityType . Future : 'FUT' > fetch done . < SecurityType . Option : 'OPT' > fetch done . < SecurityType . Stock : 'STK' > fetch done .","title":"Login Shioaji"},{"location":"tutor/order_deal_event/","text":"Order & Deal Event is a report of order action. When you place order, cancel order and update order, it will return an OrderState. OrderState is order info. For Example \u00b6 Stock \u00b6 Stock jupyter link Place Order \u00b6 In import shioaji as sj api = sj . Shioaji () accounts = api . login ( \"YOUR_PERSON_ID\" , \"YOUR_PASSWORD\" , contracts_timeout = 10000 ) api . activate_ca ( ca_path = \"/c/your/ca/path/Sinopac.pfx\" , ca_passwd = \"YOUR_CA_PASSWORD\" , person_id = \"Person of this Ca\" , ) contract = api . Contracts . Stocks . TSE . TSE2890 order = api . Order ( price = 12 , quantity = 10 , action = \"Buy\" , price_type = \"LMT\" , order_type = \"ROD\" , account = api . stock_account ) trade = api . place_order ( contract , order ) Out OrderState . TFTOrder { 'operation' : { 'op_type' : 'New' , 'op_code' : '00' , 'op_msg' : '' }, 'order' : { 'id' : 'c21b876d' , 'seqno' : '429832' , 'ordno' : 'W2892' , 'action' : 'Buy' , 'price' : 12.0 , 'quantity' : 10 , 'order_cond' : 'Cash' , 'order_type' : 'ROD' , 'price_type' : 'LMT' }, 'status' : { 'id' : 'c21b876d' , 'exchange_ts' : 1583828972 , 'modified_price' : 0 , 'cancel_quantity' : 0 }, 'contract' : { 'security_type' : 'STK' , 'exchange' : 'TSE' , 'code' : '2890' , 'symbol' : '' , 'name' : '' , 'currency' : 'TWD' } } Success Deal OrderState . TFTDeal { 'trade_id' : '12ab3456' , 'exchange_seq' : '123456' , 'broker_id' : 'your_broker_id' , 'account_id' : 'your_account_id' , 'action' : < Action . Buy : 'Buy' > , 'code' : '2890' , 'order_cond' : < StockOrderCond . Cash : 'Cash' > , 'price' : 12 , 'quantity' : 10 , 'ts' : 1583828972 } Set order callback \u00b6 In def place_cb ( stat , msg ): print ( 'my_place_callback' ) print ( stat , msg ) api . set_order_callback ( place_cb ) contract = api . Contracts . Stocks . TSE . TSE2890 order = api . Order ( price = 12 , quantity = 10 , action = \"Buy\" , price_type = \"LMT\" , order_type = \"ROD\" , account = api . stock_account ) trade = api . place_order ( contract , order ) Out my_place_callback OrderState . TFTOrder { 'operation' : { 'op_type' : 'New' , 'op_code' : '00' , 'op_msg' : '' }, 'order' : { 'id' : 'c21b876d' , 'seqno' : '429832' , 'ordno' : 'W2892' , 'action' : 'Buy' , 'price' : 12.0 , 'quantity' : 10 , 'order_cond' : 'Cash' , 'order_type' : 'ROD' , 'price_type' : 'LMT' }, 'status' : { 'id' : 'c21b876d' , 'exchange_ts' : 1583828972 , 'modified_price' : 0 , 'cancel_quantity' : 0 }, 'contract' : { 'security_type' : 'STK' , 'exchange' : 'TSE' , 'code' : '2890' , 'symbol' : '' , 'name' : '' , 'currency' : 'TWD' } } Success Deal my_place_callback OrderState . TFTDeal { 'trade_id' : '12ab3456' , 'exchange_seq' : '123456' , 'broker_id' : 'your_broker_id' , 'account_id' : 'your_account_id' , 'action' : < Action . Buy : 'Buy' > , 'code' : '2890' , 'order_cond' : < StockOrderCond . Cash : 'Cash' > , 'price' : 12 , 'quantity' : 10 , 'ts' : 1583828972 } Cancel Order \u00b6 In api . update_status ( api . stock_account ) api . cancel_order ( trade ) Out OrderState . TFTOrder { 'operation' : { 'op_type' : 'Cancel' , 'op_code' : '00' , 'op_msg' : '' }, 'order' : { 'id' : 'c21b876d' , 'seqno' : '429832' , 'ordno' : 'W2892' , 'action' : 'Buy' , 'price' : 12.0 , 'quantity' : 10 , 'order_cond' : 'Cash' , 'order_type' : 'ROD' , 'price_type' : 'LMT' }, 'status' : { 'id' : 'c21b876d' , 'exchange_ts' : 1583829131 , 'modified_price' : 0 , 'cancel_quantity' : 10 }, 'contract' : { 'security_type' : 'STK' , 'exchange' : 'TSE' , 'code' : '2890' , 'symbol' : '' , 'name' : '' , 'currency' : 'TWD' } } Update Price \u00b6 In api . update_status ( api . stock_account ) api . update_order ( trade = trade , price = 12.5 , quantity = 10 ) Out OrderState . TFTOrder { 'operation' : { 'op_type' : 'UpdatePrice' , 'op_code' : '00' , 'op_msg' : '' }, 'order' : { 'id' : 'a5cff9b6' , 'seqno' : '429833' , 'ordno' : 'W2893' , 'action' : 'Buy' , 'price' : 12.5 , 'quantity' : 10 , 'order_cond' : 'Cash' , 'order_type' : 'ROD' , 'price_type' : 'LMT' }, 'status' : { 'id' : 'a5cff9b6' , 'exchange_ts' : 1583829166 , 'modified_price' : 0 , 'cancel_quantity' : 0 }, 'contract' : { 'security_type' : 'STK' , 'exchange' : 'TSE' , 'code' : '2890' , 'symbol' : '' , 'name' : '' , 'currency' : 'TWD' } } Update Quantity \u00b6 In api . update_status ( api . stock_account ) api . update_order ( trade = trade , price = 12 , quantity = 2 ) Out OrderState . TFTOrder { 'operation' : { 'op_type' : 'UpdateQty' , 'op_code' : '00' , 'op_msg' : '' }, 'order' : { 'id' : 'a5cff9b6' , 'seqno' : '429833' , 'ordno' : 'W2893' , 'action' : 'Buy' , 'price' : 12.0 , 'quantity' : 10 , 'order_cond' : 'Cash' , 'order_type' : 'ROD' , 'price_type' : 'LMT' }, 'status' : { 'id' : 'a5cff9b6' , 'exchange_ts' : 1583829187 , 'modified_price' : 0 , 'cancel_quantity' : 2 }, 'contract' : { 'security_type' : 'STK' , 'exchange' : 'TSE' , 'code' : '2890' , 'symbol' : '' , 'name' : '' , 'currency' : 'TWD' } }","title":"Order & Deal Event"},{"location":"tutor/order_deal_event/#for-example","text":"","title":"For Example"},{"location":"tutor/order_deal_event/#stock","text":"Stock jupyter link","title":"Stock"},{"location":"tutor/order_deal_event/#place-order","text":"In import shioaji as sj api = sj . Shioaji () accounts = api . login ( \"YOUR_PERSON_ID\" , \"YOUR_PASSWORD\" , contracts_timeout = 10000 ) api . activate_ca ( ca_path = \"/c/your/ca/path/Sinopac.pfx\" , ca_passwd = \"YOUR_CA_PASSWORD\" , person_id = \"Person of this Ca\" , ) contract = api . Contracts . Stocks . TSE . TSE2890 order = api . Order ( price = 12 , quantity = 10 , action = \"Buy\" , price_type = \"LMT\" , order_type = \"ROD\" , account = api . stock_account ) trade = api . place_order ( contract , order ) Out OrderState . TFTOrder { 'operation' : { 'op_type' : 'New' , 'op_code' : '00' , 'op_msg' : '' }, 'order' : { 'id' : 'c21b876d' , 'seqno' : '429832' , 'ordno' : 'W2892' , 'action' : 'Buy' , 'price' : 12.0 , 'quantity' : 10 , 'order_cond' : 'Cash' , 'order_type' : 'ROD' , 'price_type' : 'LMT' }, 'status' : { 'id' : 'c21b876d' , 'exchange_ts' : 1583828972 , 'modified_price' : 0 , 'cancel_quantity' : 0 }, 'contract' : { 'security_type' : 'STK' , 'exchange' : 'TSE' , 'code' : '2890' , 'symbol' : '' , 'name' : '' , 'currency' : 'TWD' } } Success Deal OrderState . TFTDeal { 'trade_id' : '12ab3456' , 'exchange_seq' : '123456' , 'broker_id' : 'your_broker_id' , 'account_id' : 'your_account_id' , 'action' : < Action . Buy : 'Buy' > , 'code' : '2890' , 'order_cond' : < StockOrderCond . Cash : 'Cash' > , 'price' : 12 , 'quantity' : 10 , 'ts' : 1583828972 }","title":"Place Order"},{"location":"tutor/order_deal_event/#set-order-callback","text":"In def place_cb ( stat , msg ): print ( 'my_place_callback' ) print ( stat , msg ) api . set_order_callback ( place_cb ) contract = api . Contracts . Stocks . TSE . TSE2890 order = api . Order ( price = 12 , quantity = 10 , action = \"Buy\" , price_type = \"LMT\" , order_type = \"ROD\" , account = api . stock_account ) trade = api . place_order ( contract , order ) Out my_place_callback OrderState . TFTOrder { 'operation' : { 'op_type' : 'New' , 'op_code' : '00' , 'op_msg' : '' }, 'order' : { 'id' : 'c21b876d' , 'seqno' : '429832' , 'ordno' : 'W2892' , 'action' : 'Buy' , 'price' : 12.0 , 'quantity' : 10 , 'order_cond' : 'Cash' , 'order_type' : 'ROD' , 'price_type' : 'LMT' }, 'status' : { 'id' : 'c21b876d' , 'exchange_ts' : 1583828972 , 'modified_price' : 0 , 'cancel_quantity' : 0 }, 'contract' : { 'security_type' : 'STK' , 'exchange' : 'TSE' , 'code' : '2890' , 'symbol' : '' , 'name' : '' , 'currency' : 'TWD' } } Success Deal my_place_callback OrderState . TFTDeal { 'trade_id' : '12ab3456' , 'exchange_seq' : '123456' , 'broker_id' : 'your_broker_id' , 'account_id' : 'your_account_id' , 'action' : < Action . Buy : 'Buy' > , 'code' : '2890' , 'order_cond' : < StockOrderCond . Cash : 'Cash' > , 'price' : 12 , 'quantity' : 10 , 'ts' : 1583828972 }","title":"Set order callback"},{"location":"tutor/order_deal_event/#cancel-order","text":"In api . update_status ( api . stock_account ) api . cancel_order ( trade ) Out OrderState . TFTOrder { 'operation' : { 'op_type' : 'Cancel' , 'op_code' : '00' , 'op_msg' : '' }, 'order' : { 'id' : 'c21b876d' , 'seqno' : '429832' , 'ordno' : 'W2892' , 'action' : 'Buy' , 'price' : 12.0 , 'quantity' : 10 , 'order_cond' : 'Cash' , 'order_type' : 'ROD' , 'price_type' : 'LMT' }, 'status' : { 'id' : 'c21b876d' , 'exchange_ts' : 1583829131 , 'modified_price' : 0 , 'cancel_quantity' : 10 }, 'contract' : { 'security_type' : 'STK' , 'exchange' : 'TSE' , 'code' : '2890' , 'symbol' : '' , 'name' : '' , 'currency' : 'TWD' } }","title":"Cancel Order"},{"location":"tutor/order_deal_event/#update-price","text":"In api . update_status ( api . stock_account ) api . update_order ( trade = trade , price = 12.5 , quantity = 10 ) Out OrderState . TFTOrder { 'operation' : { 'op_type' : 'UpdatePrice' , 'op_code' : '00' , 'op_msg' : '' }, 'order' : { 'id' : 'a5cff9b6' , 'seqno' : '429833' , 'ordno' : 'W2893' , 'action' : 'Buy' , 'price' : 12.5 , 'quantity' : 10 , 'order_cond' : 'Cash' , 'order_type' : 'ROD' , 'price_type' : 'LMT' }, 'status' : { 'id' : 'a5cff9b6' , 'exchange_ts' : 1583829166 , 'modified_price' : 0 , 'cancel_quantity' : 0 }, 'contract' : { 'security_type' : 'STK' , 'exchange' : 'TSE' , 'code' : '2890' , 'symbol' : '' , 'name' : '' , 'currency' : 'TWD' } }","title":"Update Price"},{"location":"tutor/order_deal_event/#update-quantity","text":"In api . update_status ( api . stock_account ) api . update_order ( trade = trade , price = 12 , quantity = 2 ) Out OrderState . TFTOrder { 'operation' : { 'op_type' : 'UpdateQty' , 'op_code' : '00' , 'op_msg' : '' }, 'order' : { 'id' : 'a5cff9b6' , 'seqno' : '429833' , 'ordno' : 'W2893' , 'action' : 'Buy' , 'price' : 12.0 , 'quantity' : 10 , 'order_cond' : 'Cash' , 'order_type' : 'ROD' , 'price_type' : 'LMT' }, 'status' : { 'id' : 'a5cff9b6' , 'exchange_ts' : 1583829187 , 'modified_price' : 0 , 'cancel_quantity' : 2 }, 'contract' : { 'security_type' : 'STK' , 'exchange' : 'TSE' , 'code' : '2890' , 'symbol' : '' , 'name' : '' , 'currency' : 'TWD' } }","title":"Update Quantity"},{"location":"tutor/snapshot/","text":"Snapshot is a present stock, future, option info. It contain open, high, low, close, change price, average price, volume, total volume, buy price, buy volume, sell price, sell volume and yestoday volume. First, you need login. \u00b6 Get Snapshot \u00b6 In contracts = [ api . Contracts . Stocks [ '2330' ], api . Contracts . Stocks [ '2317' ]] snapshots = api . snapshots ( contracts ) snapshots Out version >= 0.2.1.dev2 [ Snapshot ( ts = 1589801466456000000 , code = '2330' , exchange = 'TSE' , open = 291.0 , high = 293.5 , low = 290.5 , close = 292.5 , tick_type =< TickType . Buy : 'Buy' > , change_price =- 5.5 , change_rate =- 1.84 , change_type =< ChangeType . Dowm : 'Dowm' > , average_price = 291.71 , volume = 1 , total_volume = 50850 , amount = 292500 , total_amount = 14833373000 , yesterday_volume = 42298.0 , buy_price = 292.0 , buy_volume = 898.0 , sell_price = 292.5 , sell_volume = 1549 , volume_ratio = 1.2 ), Snapshot ( ts = 1589801463015000000 , code = '2317' , exchange = 'TSE' , open = 76.6 , high = 76.6 , low = 74.9 , close = 75.8 , tick_type =< TickType . Buy : 'Buy' > , change_price =- 1.3 , change_rate =- 1.69 , change_type =< ChangeType . Dowm : 'Dowm' > , average_price = 75.68 , volume = 2 , total_volume = 39714 , amount = 151600 , total_amount = 3005477400 , yesterday_volume = 46575.0 , buy_price = 75.7 , buy_volume = 185.0 , sell_price = 75.8 , sell_volume = 472 , volume_ratio = 0.85 ) ] version < 0.2.1.dev2 Snapshots ( snapshot = [ { 'ts' : 1584437921673000000 , 'code' : '2317' , 'exchange' : 'TSE' , 'open' : 70.1 , 'high' : 72.8 , 'low' : 70.0 , 'close' : 71.8 , 'tick_type' : 'Sell' , 'change_price' : 0.7 , 'change_rate' : 0.98 , 'change_type' : 'Up' , 'avgerage_price' : 71.13 , 'volume' : 16 , 'total_volume' : 21019 , 'amount' : 1148800 , 'total_amount' : 1495047800 , 'yestoday_volume' : 65223.0 , 'buy_price' : 71.8 , 'buy_volume' : 79.0 , 'sell_price' : 71.9 , 'sell_volume' : 38 , 'volume_ratio' : 0.32 }, { 'ts' : 1584437921045000000 , 'code' : '2330' , 'exchange' : 'TSE' , 'open' : 265.0 , 'high' : 276.5 , 'low' : 265.0 , 'close' : 273.5 , 'tick_type' : 'Sell' , 'change_price' : - 3.0 , 'change_rate' : - 1.08 , 'change_type' : 'Dowm' , 'avgerage_price' : 269.39 , 'volume' : 32 , 'total_volume' : 38154 , 'amount' : 8752000 , 'total_amount' : 10278416500 , 'yestoday_volume' : 103873.0 , 'buy_price' : 273.5 , 'buy_volume' : 123.0 , 'sell_price' : 274.0 , 'sell_volume' : 130 , 'volume_ratio' : 0.37 } ] ) Snapshot to DataFrame \u00b6 In version >= 0.2.1.dev2 import pandas as pd contracts = [ api . Contracts . Stocks [ '2330' ], api . Contracts . Stocks [ '2317' ]] snapshots = api . snapshots ( contracts ) df = pd . DataFrame ( snapshots ) df . ts = pd . to_datetime ( df . ts ) version < 0.2.1.dev2 import pandas as pd contracts = [ api . Contracts . Stocks [ '2330' ], api . Contracts . Stocks [ '2317' ]] snapshots = api . snapshots ( contracts ) df = pd . DataFrame ( snapshots [ 'snapshot' ]) df . ts = pd . to_datetime ( df . ts ) Out ts code exchange open high low close tick_type change_price change_rate change_type avgerage_price volume total_volume amount total_amount yestoday_volume buy_price buy_volume sell_price sell_volume volume_ratio 0 2020-03-17 09:38:41.673000 2317 TSE 70.1 72.8 70 71.8 Sell 0.7 0.98 Up 71.13 16 21019 1148800 1495047800 65223 71.8 79 71.9 38 0.32 1 2020-03-17 09:38:41.045000 2330 TSE 265 276.5 265 273.5 Sell -3 -1.08 Dowm 269.39 32 38154 8752000 10278416500 103873 273.5 123 274 130 0.37 Attributes: ts ( int ): TimeStamp . code ( str ): Contract id . exchange ( Exchange ): Attributes of industry . open ( float ): open high ( float ): high low ( float ): low close ( float ): close tick_type ( TickType ): Close is buy or sell price . { None , Buy , Sell } change_price ( float ): change price . change_rate ( float ): change rate . change_type ( ChangeType ): { LimitUp , Up , Unchanged , Dowm , LimitDown } avgerage_price ( float ): avgerage of price . volume ( int ): volume . total_volume ( int ): total volume . amount ( int ): Deal amount . total_amount ( int ): Total deal amount . yestoday_volume ( float ): Volume of yestoday . buy_price ( float ): Price of buy . buy_volume ( float ): Volume of sell . sell_price ( float ): Price of sell . sell_volume ( int ): Volume of sell . volume_ratio ( float ): total_volume / yestoday_volume .","title":"Snapshot"},{"location":"tutor/snapshot/#first-you-need-login","text":"","title":"First, you need login."},{"location":"tutor/snapshot/#get-snapshot","text":"In contracts = [ api . Contracts . Stocks [ '2330' ], api . Contracts . Stocks [ '2317' ]] snapshots = api . snapshots ( contracts ) snapshots Out version >= 0.2.1.dev2 [ Snapshot ( ts = 1589801466456000000 , code = '2330' , exchange = 'TSE' , open = 291.0 , high = 293.5 , low = 290.5 , close = 292.5 , tick_type =< TickType . Buy : 'Buy' > , change_price =- 5.5 , change_rate =- 1.84 , change_type =< ChangeType . Dowm : 'Dowm' > , average_price = 291.71 , volume = 1 , total_volume = 50850 , amount = 292500 , total_amount = 14833373000 , yesterday_volume = 42298.0 , buy_price = 292.0 , buy_volume = 898.0 , sell_price = 292.5 , sell_volume = 1549 , volume_ratio = 1.2 ), Snapshot ( ts = 1589801463015000000 , code = '2317' , exchange = 'TSE' , open = 76.6 , high = 76.6 , low = 74.9 , close = 75.8 , tick_type =< TickType . Buy : 'Buy' > , change_price =- 1.3 , change_rate =- 1.69 , change_type =< ChangeType . Dowm : 'Dowm' > , average_price = 75.68 , volume = 2 , total_volume = 39714 , amount = 151600 , total_amount = 3005477400 , yesterday_volume = 46575.0 , buy_price = 75.7 , buy_volume = 185.0 , sell_price = 75.8 , sell_volume = 472 , volume_ratio = 0.85 ) ] version < 0.2.1.dev2 Snapshots ( snapshot = [ { 'ts' : 1584437921673000000 , 'code' : '2317' , 'exchange' : 'TSE' , 'open' : 70.1 , 'high' : 72.8 , 'low' : 70.0 , 'close' : 71.8 , 'tick_type' : 'Sell' , 'change_price' : 0.7 , 'change_rate' : 0.98 , 'change_type' : 'Up' , 'avgerage_price' : 71.13 , 'volume' : 16 , 'total_volume' : 21019 , 'amount' : 1148800 , 'total_amount' : 1495047800 , 'yestoday_volume' : 65223.0 , 'buy_price' : 71.8 , 'buy_volume' : 79.0 , 'sell_price' : 71.9 , 'sell_volume' : 38 , 'volume_ratio' : 0.32 }, { 'ts' : 1584437921045000000 , 'code' : '2330' , 'exchange' : 'TSE' , 'open' : 265.0 , 'high' : 276.5 , 'low' : 265.0 , 'close' : 273.5 , 'tick_type' : 'Sell' , 'change_price' : - 3.0 , 'change_rate' : - 1.08 , 'change_type' : 'Dowm' , 'avgerage_price' : 269.39 , 'volume' : 32 , 'total_volume' : 38154 , 'amount' : 8752000 , 'total_amount' : 10278416500 , 'yestoday_volume' : 103873.0 , 'buy_price' : 273.5 , 'buy_volume' : 123.0 , 'sell_price' : 274.0 , 'sell_volume' : 130 , 'volume_ratio' : 0.37 } ] )","title":"Get Snapshot"},{"location":"tutor/snapshot/#snapshot-to-dataframe","text":"In version >= 0.2.1.dev2 import pandas as pd contracts = [ api . Contracts . Stocks [ '2330' ], api . Contracts . Stocks [ '2317' ]] snapshots = api . snapshots ( contracts ) df = pd . DataFrame ( snapshots ) df . ts = pd . to_datetime ( df . ts ) version < 0.2.1.dev2 import pandas as pd contracts = [ api . Contracts . Stocks [ '2330' ], api . Contracts . Stocks [ '2317' ]] snapshots = api . snapshots ( contracts ) df = pd . DataFrame ( snapshots [ 'snapshot' ]) df . ts = pd . to_datetime ( df . ts ) Out ts code exchange open high low close tick_type change_price change_rate change_type avgerage_price volume total_volume amount total_amount yestoday_volume buy_price buy_volume sell_price sell_volume volume_ratio 0 2020-03-17 09:38:41.673000 2317 TSE 70.1 72.8 70 71.8 Sell 0.7 0.98 Up 71.13 16 21019 1148800 1495047800 65223 71.8 79 71.9 38 0.32 1 2020-03-17 09:38:41.045000 2330 TSE 265 276.5 265 273.5 Sell -3 -1.08 Dowm 269.39 32 38154 8752000 10278416500 103873 273.5 123 274 130 0.37 Attributes: ts ( int ): TimeStamp . code ( str ): Contract id . exchange ( Exchange ): Attributes of industry . open ( float ): open high ( float ): high low ( float ): low close ( float ): close tick_type ( TickType ): Close is buy or sell price . { None , Buy , Sell } change_price ( float ): change price . change_rate ( float ): change rate . change_type ( ChangeType ): { LimitUp , Up , Unchanged , Dowm , LimitDown } avgerage_price ( float ): avgerage of price . volume ( int ): volume . total_volume ( int ): total volume . amount ( int ): Deal amount . total_amount ( int ): Total deal amount . yestoday_volume ( float ): Volume of yestoday . buy_price ( float ): Price of buy . buy_volume ( float ): Volume of sell . sell_price ( float ): Price of sell . sell_volume ( int ): Volume of sell . volume_ratio ( float ): total_volume / yestoday_volume .","title":"Snapshot to DataFrame"},{"location":"tutor/accounting/account_balance/","text":"Query stock account balance First, you need login. \u00b6 In api . account_balance ? Out Signature : api . account_balance ( timeout : int = 5000 , cb : Callable [[ shioaji . position . AccountBalance ], NoneType ] = None , ) Docstring : query stock account balance In api . account_balance () Out [ AccountBalance ( acc_balance = 123456.0 , date = '2020-07-16 09:29:13' , errmsg = '' )] In acc_balance = api . account_balance () df = pd . DataFrame ( acc_balance ) df Out acc_balance date errmsg 123456.0 2020-07-16 09:29:13 Attributes: acc_balance ( float ): account balance date ( str ): query date errmsg ( str ): error message","title":"Account Balance"},{"location":"tutor/accounting/account_balance/#first-you-need-login","text":"In api . account_balance ? Out Signature : api . account_balance ( timeout : int = 5000 , cb : Callable [[ shioaji . position . AccountBalance ], NoneType ] = None , ) Docstring : query stock account balance In api . account_balance () Out [ AccountBalance ( acc_balance = 123456.0 , date = '2020-07-16 09:29:13' , errmsg = '' )] In acc_balance = api . account_balance () df = pd . DataFrame ( acc_balance ) df Out acc_balance date errmsg 123456.0 2020-07-16 09:29:13 Attributes: acc_balance ( float ): account balance date ( str ): query date errmsg ( str ): error message","title":"First, you need login."},{"location":"tutor/accounting/account_portfolio/","text":"warning The features of this page will be removed in the future . Account Margin \u00b6 In api . get_account_margin ? Out Signature : api . get_account_margin ( currency = 'NTD' , margin_type = '1' , account = {}) Docstring : query margin currency : { NTX , USX , NTD , USD , HKD , EUR , JPY , GBP } the margin calculate in which currency - NTX : \u7d04\u7576\u53f0\u5e63 - USX : \u7d04\u7576\u7f8e\u91d1 - NTD : \u65b0\u53f0\u5e63 - USD : \u7f8e\u5143 - HKD : \u6e2f\u5e63 - EUR : \u6b50\u5143 - JPY : \u65e5\u5e63 - GBP : \u82f1\u938a margin_type : { '1' , '2' } query margin type - 1 : \u5373\u6642 - 2 : \u98a8\u96aa In account_margin = api . get_account_margin () account_margin Out AccountMargin Currency : NTD Account : F0020009104000 Detail : OrderPSecurity : 207000.0 ProfitAccCount : 207000.0 FProfit : 0.0 FMissConProfit : 0.0 OMissConProfit : 0.0 OColse : 0.0 OMarketPrice : 0.0 OTodayDiff : 0.0 HandCharge : 0.0 TradeTax : 0.0 Security : 0.0 StartSecurity : 0.0 UpKeepSecurity : 0.0 Statistics : 99999.0 Flow : 999.0 orderBid : 0.0 orderAsk : 0.0 Conclusionbid : 0.0 Conclusionask : 0.0 YesterdayBalance : 207000.0 PayMoney : 0.0 Equity : 207000.0 Ogain : 0.0 exrate : 1.0 xgdamt : 0.0 agtamt : 0.0 YesterdayEquity : 207000.0 Munet : 0.0 Cashamt : 207000.0 Bapamt : 0.0 Sapamt : 0.0 Adps : 0.0 Adamt : 0.0 Ybaln : 207000.0 directly pass our AccountMargin object to pandas to using your model In df_margin = pd . DataFrame ( account_margin . data ()) df_margin Adamt Adps Bapamt Cashamt Conclusionask Conclusionbid Equity FMissConProfit FProfit Flow ... TradeTax UpKeepSecurity Ybaln YesterdayBalance YesterdayEquity agtamt exrate orderAsk orderBid xgdamt 0 0.0 0.0 0.0 207000.0 0.0 0.0 207000.0 0.0 0.0 999.0 ... 0.0 0.0 207000.0 207000.0 207000.0 0.0 1.0 0.0 0.0 0.0 Get Open Position \u00b6 In api . get_account_openposition ? Out Signature : api . get_account_openposition ( product_type = '0' , query_type = '0' , account = {}) Docstring : query open position product_type : { 0 , 1 , 2 , 3 } filter product type of open position - 0 : all - 1 : future - 2 : option - 3 : usd base query_type : { 0 , 1 } query return with detail or summary - 0 : detail - 1 : summary In positions = api . get_account_openposition ( query_type = '1' , account = api . futopt_account ) positions AccountOpenPosition \u00b6 In df_positions = pd . DataFrame ( positions . data ()) df_positions Account Code CodeName ContractAverPrice Currency Date FlowProfitLoss MTAMT OTAMT OrderBS OrderNum OrderType RealPrice SettlePrice SettleProfitLoss StartSecurity UpKeepSecurity Volume paddingByte 0 FF0020009104000 TXFA9 \u53f0\u6307\u671f\u8ca8 01 9508.4137 NTD 00000000 4795201.620000 6438000.000000 8352000.000000 B 9784.0 9784.00 4795201.620000 8352000.000000 6438000.000000 87.000000 Get Settle ProfitLoss \u00b6 In api . get_account_settle_profitloss ? Out Signature : api . get_account_settle_profitloss ( product_type = '0' , summary = 'Y' , start_date = '' , end_date = '' , currency = '' , account = {}) Docstring : query settlement profit loss product_type : { 0 , 1 , 2 } filter product type of open position - 0 : all - 1 : future - 2 : option summary : { Y , N } query return with detail or summary - Y : summary - N : detail start_date : str the start date of query range format with % Y % m % d ex : 20180101 end_date : str the end date of query range format with % Y % m % d ex : 20180201 currency : { NTD , USD , HKD , EUR , CAD , BAS } the profit loss calculate in which currency - NTD : \u65b0\u53f0\u5e63 - USD : \u7f8e\u5143 - HKD : \u6e2f\u5e63 - EUR : \u6b50\u5143 - CAD : \u52a0\u5e63 - BAS : \u57fa\u5e63 AccountSettleProfitLoss \u00b6 In st_date = ( date . today () - timedelta ( days = 60 )) . strftime ( '%Y%m %d ' ) settle_profitloss = api . get_account_settle_profitloss ( summary = 'Y' , start_date = st_date ) settle_profitloss df_profitloss = pd . DataFrame ( settle_profitloss . data ()) df_profitloss account averagePrice code codeName currency floatProfitLoss handCharge ord_bs ord_type ordno ordno_b settleAvgPrc settleDate settleVolume tFlag tdate tradeProfitLoss tradeTax unVolume volume 0 F0020009104000 9900.0 TXFK8 \u53f0\u6307\u671f\u8ca8 11 NTD 460.000000 60.000000 S 00 kY002 kY003 9897.0 20181022 1.000000 1 20181022 600.000000 80.000000 0.000000 1.000000","title":"Account & Portfolio"},{"location":"tutor/accounting/account_portfolio/#account-margin","text":"In api . get_account_margin ? Out Signature : api . get_account_margin ( currency = 'NTD' , margin_type = '1' , account = {}) Docstring : query margin currency : { NTX , USX , NTD , USD , HKD , EUR , JPY , GBP } the margin calculate in which currency - NTX : \u7d04\u7576\u53f0\u5e63 - USX : \u7d04\u7576\u7f8e\u91d1 - NTD : \u65b0\u53f0\u5e63 - USD : \u7f8e\u5143 - HKD : \u6e2f\u5e63 - EUR : \u6b50\u5143 - JPY : \u65e5\u5e63 - GBP : \u82f1\u938a margin_type : { '1' , '2' } query margin type - 1 : \u5373\u6642 - 2 : \u98a8\u96aa In account_margin = api . get_account_margin () account_margin Out AccountMargin Currency : NTD Account : F0020009104000 Detail : OrderPSecurity : 207000.0 ProfitAccCount : 207000.0 FProfit : 0.0 FMissConProfit : 0.0 OMissConProfit : 0.0 OColse : 0.0 OMarketPrice : 0.0 OTodayDiff : 0.0 HandCharge : 0.0 TradeTax : 0.0 Security : 0.0 StartSecurity : 0.0 UpKeepSecurity : 0.0 Statistics : 99999.0 Flow : 999.0 orderBid : 0.0 orderAsk : 0.0 Conclusionbid : 0.0 Conclusionask : 0.0 YesterdayBalance : 207000.0 PayMoney : 0.0 Equity : 207000.0 Ogain : 0.0 exrate : 1.0 xgdamt : 0.0 agtamt : 0.0 YesterdayEquity : 207000.0 Munet : 0.0 Cashamt : 207000.0 Bapamt : 0.0 Sapamt : 0.0 Adps : 0.0 Adamt : 0.0 Ybaln : 207000.0 directly pass our AccountMargin object to pandas to using your model In df_margin = pd . DataFrame ( account_margin . data ()) df_margin Adamt Adps Bapamt Cashamt Conclusionask Conclusionbid Equity FMissConProfit FProfit Flow ... TradeTax UpKeepSecurity Ybaln YesterdayBalance YesterdayEquity agtamt exrate orderAsk orderBid xgdamt 0 0.0 0.0 0.0 207000.0 0.0 0.0 207000.0 0.0 0.0 999.0 ... 0.0 0.0 207000.0 207000.0 207000.0 0.0 1.0 0.0 0.0 0.0","title":"Account Margin"},{"location":"tutor/accounting/account_portfolio/#get-open-position","text":"In api . get_account_openposition ? Out Signature : api . get_account_openposition ( product_type = '0' , query_type = '0' , account = {}) Docstring : query open position product_type : { 0 , 1 , 2 , 3 } filter product type of open position - 0 : all - 1 : future - 2 : option - 3 : usd base query_type : { 0 , 1 } query return with detail or summary - 0 : detail - 1 : summary In positions = api . get_account_openposition ( query_type = '1' , account = api . futopt_account ) positions","title":"Get Open Position"},{"location":"tutor/accounting/account_portfolio/#accountopenposition","text":"In df_positions = pd . DataFrame ( positions . data ()) df_positions Account Code CodeName ContractAverPrice Currency Date FlowProfitLoss MTAMT OTAMT OrderBS OrderNum OrderType RealPrice SettlePrice SettleProfitLoss StartSecurity UpKeepSecurity Volume paddingByte 0 FF0020009104000 TXFA9 \u53f0\u6307\u671f\u8ca8 01 9508.4137 NTD 00000000 4795201.620000 6438000.000000 8352000.000000 B 9784.0 9784.00 4795201.620000 8352000.000000 6438000.000000 87.000000","title":"AccountOpenPosition"},{"location":"tutor/accounting/account_portfolio/#get-settle-profitloss","text":"In api . get_account_settle_profitloss ? Out Signature : api . get_account_settle_profitloss ( product_type = '0' , summary = 'Y' , start_date = '' , end_date = '' , currency = '' , account = {}) Docstring : query settlement profit loss product_type : { 0 , 1 , 2 } filter product type of open position - 0 : all - 1 : future - 2 : option summary : { Y , N } query return with detail or summary - Y : summary - N : detail start_date : str the start date of query range format with % Y % m % d ex : 20180101 end_date : str the end date of query range format with % Y % m % d ex : 20180201 currency : { NTD , USD , HKD , EUR , CAD , BAS } the profit loss calculate in which currency - NTD : \u65b0\u53f0\u5e63 - USD : \u7f8e\u5143 - HKD : \u6e2f\u5e63 - EUR : \u6b50\u5143 - CAD : \u52a0\u5e63 - BAS : \u57fa\u5e63","title":"Get Settle ProfitLoss"},{"location":"tutor/accounting/account_portfolio/#accountsettleprofitloss","text":"In st_date = ( date . today () - timedelta ( days = 60 )) . strftime ( '%Y%m %d ' ) settle_profitloss = api . get_account_settle_profitloss ( summary = 'Y' , start_date = st_date ) settle_profitloss df_profitloss = pd . DataFrame ( settle_profitloss . data ()) df_profitloss account averagePrice code codeName currency floatProfitLoss handCharge ord_bs ord_type ordno ordno_b settleAvgPrc settleDate settleVolume tFlag tdate tradeProfitLoss tradeTax unVolume volume 0 F0020009104000 9900.0 TXFK8 \u53f0\u6307\u671f\u8ca8 11 NTD 460.000000 60.000000 S 00 kY002 kY003 9897.0 20181022 1.000000 1 20181022 600.000000 80.000000 0.000000 1.000000","title":"AccountSettleProfitLoss"},{"location":"tutor/accounting/position/","text":"Query account of unrealized gain or loss First, you need login. \u00b6 In api . list_positions ? Out Signature : api . list_positions ( account : shioaji . account . Account = None , timeout : int = 5000 , cb : Callable [[ List [ shioaji . position . Position ]], NoneType ] = None , ) -> List [ shioaji . position . Position ] Docstring : query account of unrealized gain or loss Args : account (: obj : Account ): choice the account from listing account ( Default : stock account ) In api . list_positions ( api . stock_account ) Out [ Position ( code = '2890' , direction =< Action . Buy : 'Buy' > , quantity = 10 , price = 10.1 , pnl = 1234.0 , yd_quantity = 10 )] In positions = api . list_positions ( api . stock_account ) df = pd . DataFrame ( positions ) df Out code cond direction pnl price quantity yd_quantity 2890 StockOrderCond.Cash Action.Buy -1234.0 10.1 10 10 Attributes: code ( str ): contract id . direction ( Action ): action . { Buy , Sell } quantity ( int ): quantity . price ( float ): the average price . pnl ( float ): unrealized profit . yd_quantity ( int ): yesterday cond ( StockOrderCond ): Default Cash . { Cash ( \u73fe\u80a1 ), Netting ( \u9918\u984d\u4ea4\u5272 ), MarginTrading ( \u878d\u8cc7 ), ShortSelling ( \u878d\u5238 ), Emerging ( \u8208\u6ac3 )}","title":"Position"},{"location":"tutor/accounting/position/#first-you-need-login","text":"In api . list_positions ? Out Signature : api . list_positions ( account : shioaji . account . Account = None , timeout : int = 5000 , cb : Callable [[ List [ shioaji . position . Position ]], NoneType ] = None , ) -> List [ shioaji . position . Position ] Docstring : query account of unrealized gain or loss Args : account (: obj : Account ): choice the account from listing account ( Default : stock account ) In api . list_positions ( api . stock_account ) Out [ Position ( code = '2890' , direction =< Action . Buy : 'Buy' > , quantity = 10 , price = 10.1 , pnl = 1234.0 , yd_quantity = 10 )] In positions = api . list_positions ( api . stock_account ) df = pd . DataFrame ( positions ) df Out code cond direction pnl price quantity yd_quantity 2890 StockOrderCond.Cash Action.Buy -1234.0 10.1 10 10 Attributes: code ( str ): contract id . direction ( Action ): action . { Buy , Sell } quantity ( int ): quantity . price ( float ): the average price . pnl ( float ): unrealized profit . yd_quantity ( int ): yesterday cond ( StockOrderCond ): Default Cash . { Cash ( \u73fe\u80a1 ), Netting ( \u9918\u984d\u4ea4\u5272 ), MarginTrading ( \u878d\u8cc7 ), ShortSelling ( \u878d\u5238 ), Emerging ( \u8208\u6ac3 )}","title":"First, you need login."},{"location":"tutor/accounting/profit_loss/","text":"Query account of profit loss First, you need login. \u00b6 In api . list_profit_loss ? Out Signature : api . list_profit_loss ( account : shioaji . account . Account = None , begin_date : str = '' , end_date : str = '' , timeout : int = 5000 , cb : Callable [[ List [ shioaji . position . ProfitLoss ]], NoneType ] = None , ) -> List [ shioaji . position . ProfitLoss ] Docstring : query account of profit loss Args : account (: obj : Account ): choice the account from listing account ( Default : stock account ) begin_date ( str ): the start date of query profit loss ( Default : today ) end_date ( str ): the end date of query profit loss ( Default : today ) In api . list_profit_loss ( api . stock_account , '2020-05-05' , '2020-05-30' ) Out [ ProfitLoss ( id = 0 , code = '2890' , seqno = '14816' , dseq = 'ID111' , quantity = 1 , price = 10.1 , pnl = 1234.0 , pr_ratio = 0.1237 , cond = 'Cash' , date = '2020-05-22' )] In profitloss = api . list_profit_loss ( api . stock_account , '2020-05-05' , '2020-05-30' ) df = pd . DataFrame ( profitloss ) df Out id code cond date pnl pr_ratio price quantity seqno dseq 0 2890 StockOrderCond.Cash 2020-05-22 1000.0 0.1237 10.1 1 14816 ID111 Attributes: id ( int ): use to find detail . code ( str ): contract id . seqno ( str ): seqno no . dseq ( str ): seqno no . quantity ( int ): quantity . price ( float ): price . pnl ( float ): profit and loss . pr_ratio ( float ): profit rate . cond ( StockOrderCond ): { Cash , Netting , MarginTrading , ShortSelling } date ( str ): trade date .","title":"Profit Loss"},{"location":"tutor/accounting/profit_loss/#first-you-need-login","text":"In api . list_profit_loss ? Out Signature : api . list_profit_loss ( account : shioaji . account . Account = None , begin_date : str = '' , end_date : str = '' , timeout : int = 5000 , cb : Callable [[ List [ shioaji . position . ProfitLoss ]], NoneType ] = None , ) -> List [ shioaji . position . ProfitLoss ] Docstring : query account of profit loss Args : account (: obj : Account ): choice the account from listing account ( Default : stock account ) begin_date ( str ): the start date of query profit loss ( Default : today ) end_date ( str ): the end date of query profit loss ( Default : today ) In api . list_profit_loss ( api . stock_account , '2020-05-05' , '2020-05-30' ) Out [ ProfitLoss ( id = 0 , code = '2890' , seqno = '14816' , dseq = 'ID111' , quantity = 1 , price = 10.1 , pnl = 1234.0 , pr_ratio = 0.1237 , cond = 'Cash' , date = '2020-05-22' )] In profitloss = api . list_profit_loss ( api . stock_account , '2020-05-05' , '2020-05-30' ) df = pd . DataFrame ( profitloss ) df Out id code cond date pnl pr_ratio price quantity seqno dseq 0 2890 StockOrderCond.Cash 2020-05-22 1000.0 0.1237 10.1 1 14816 ID111 Attributes: id ( int ): use to find detail . code ( str ): contract id . seqno ( str ): seqno no . dseq ( str ): seqno no . quantity ( int ): quantity . price ( float ): price . pnl ( float ): profit and loss . pr_ratio ( float ): profit rate . cond ( StockOrderCond ): { Cash , Netting , MarginTrading , ShortSelling } date ( str ): trade date .","title":"First, you need login."},{"location":"tutor/accounting/profit_loss_detail/","text":"Query account of profit loss detail First, you need get profit loss. \u00b6 In api . list_profit_loss_detail ? Out Signature : api . list_profit_loss_detail ( account : shioaji . account . Account = None , detail_id : int = 0 , timeout : int = 5000 , cb : Callable [[ List [ shioaji . position . ProfitLossDetail ]], NoneType ] = None , ) Docstring : query account of profit loss detail Args : account (: obj : Account ): choice the account from listing account ( Default : stock account ) detail_id ( int ): the id is from ProfitLoss object , ProfitLoss is from list_profit_loss In api . list_profit_loss_detail ( api . stock_account , 2 ) Out [ ProfitLossDetail ( date = '2020-05-22' , cond = 'Cash' , code = '2890' , quantity = 1 , price = 10.1 , cost = 9100 , dseq = 'ID111' , rep_margintrading_amt = 0 , rep_collateral = 0 , rep_margin = 0 , fee = 20 , interest = 0 , tax = 0 , shortselling_fee = 0 , currency = 'NTD' )] Out date cond code quantity price cost dseq rep_margintrading_amt rep_collateral rep_margin fee interest tax shortselling_fee currency 2020-05-22 StockOrderCond.Cash 2890 1 10.1 9100 ID111 0 0 0 20 0 0 0 NTD Attributes: date ( str ): trade date . cond ( StockOrderCond ): { Cash , Netting , MarginTrading , ShortSelling } code ( str ): contract id . quantity ( int ): quantity . price ( float ): price . cost ( int ): cost of price . dseq ( str ): detail seqno no . rep_margintrading_amt ( int ): repay amount of margin trading . rep_collateral ( int ): repay collateral . rep_margin ( int ): repay margin . fee ( int ): fee . interest ( int ): interest . tax ( int ): trading tax . shortselling_fee ( int ): fee of short selling . currency ( str ): { NTD , USD , HKD , EUR , CAD , BAS }","title":"Profit Loss Detail"},{"location":"tutor/accounting/profit_loss_detail/#first-you-need-get-profit-loss","text":"In api . list_profit_loss_detail ? Out Signature : api . list_profit_loss_detail ( account : shioaji . account . Account = None , detail_id : int = 0 , timeout : int = 5000 , cb : Callable [[ List [ shioaji . position . ProfitLossDetail ]], NoneType ] = None , ) Docstring : query account of profit loss detail Args : account (: obj : Account ): choice the account from listing account ( Default : stock account ) detail_id ( int ): the id is from ProfitLoss object , ProfitLoss is from list_profit_loss In api . list_profit_loss_detail ( api . stock_account , 2 ) Out [ ProfitLossDetail ( date = '2020-05-22' , cond = 'Cash' , code = '2890' , quantity = 1 , price = 10.1 , cost = 9100 , dseq = 'ID111' , rep_margintrading_amt = 0 , rep_collateral = 0 , rep_margin = 0 , fee = 20 , interest = 0 , tax = 0 , shortselling_fee = 0 , currency = 'NTD' )] Out date cond code quantity price cost dseq rep_margintrading_amt rep_collateral rep_margin fee interest tax shortselling_fee currency 2020-05-22 StockOrderCond.Cash 2890 1 10.1 9100 ID111 0 0 0 20 0 0 0 NTD Attributes: date ( str ): trade date . cond ( StockOrderCond ): { Cash , Netting , MarginTrading , ShortSelling } code ( str ): contract id . quantity ( int ): quantity . price ( float ): price . cost ( int ): cost of price . dseq ( str ): detail seqno no . rep_margintrading_amt ( int ): repay amount of margin trading . rep_collateral ( int ): repay collateral . rep_margin ( int ): repay margin . fee ( int ): fee . interest ( int ): interest . tax ( int ): trading tax . shortselling_fee ( int ): fee of short selling . currency ( str ): { NTD , USD , HKD , EUR , CAD , BAS }","title":"First, you need get profit loss."},{"location":"tutor/accounting/settlement/","text":"Query stock account of settlements First, you need login. \u00b6 In api . list_settlements ? Out Signature : api . list_settlements ( account : shioaji . account . Account = None , timeout : int = 5000 , cb : Callable [[ List [ shioaji . position . Settlement ]], NoneType ] = None , ) -> List [ shioaji . position . Settlement ] Docstring : query stock account of settlements In settlement = api . list_settlements ( api . stock_account ) df = pd . DataFrame ( settlement ) df Out tmoney t1_money t2_money t_day t1_day t2_day 120523.0 0.0 0.0 '2020-06-03' '2020-06-04' '2020-06-05' Attributes: t_money ( float ): T settlement t1_money ( float ): T + 1 settlement t2_money ( float ): T + 2 settlement t_day ( str ): T t1_day ( str ): T + 1 t2_day ( str ): T + 2","title":"Settlement"},{"location":"tutor/accounting/settlement/#first-you-need-login","text":"In api . list_settlements ? Out Signature : api . list_settlements ( account : shioaji . account . Account = None , timeout : int = 5000 , cb : Callable [[ List [ shioaji . position . Settlement ]], NoneType ] = None , ) -> List [ shioaji . position . Settlement ] Docstring : query stock account of settlements In settlement = api . list_settlements ( api . stock_account ) df = pd . DataFrame ( settlement ) df Out tmoney t1_money t2_money t_day t1_day t2_day 120523.0 0.0 0.0 '2020-06-03' '2020-06-04' '2020-06-05' Attributes: t_money ( float ): T settlement t1_money ( float ): T + 1 settlement t2_money ( float ): T + 2 settlement t_day ( str ): T t1_day ( str ): T + 1 t2_day ( str ): T + 2","title":"First, you need login."},{"location":"tutor/advanced/nonblock/","text":"Block & Non Block Mode \u00b6 Shioaji provides return the responsed using Block and Non Block mode, putting the paramter of timeout can change the mode. Timeout default value is 5000 is wait the response for 5 second, but some api for data like tick data will become too large to receive in five second that need to scale up timeout or use Non-Block mode set the timeout as 0. Using cb parameter for Non-Block mode as the callback function. In api . place_order ? Out Signature : api . place_order ( contract : shioaji . contracts . Contract , order : shioaji . order . Order , timeout : int = 5000 , cb : Callable [[ shioaji . order . Trade ], NoneType ] = None , ) -> shioaji . order . Trade Docstring : placing order Type : method Block \u00b6 In api . place_order ( contract , order , timeout = 5000 ) Non Block \u00b6 In api . place_order ( contract , order , timeout = 0 ) Support Function \u00b6 Fuction: ticks place_order update_order cancel_order update_status list_positions Parameter: timeout Parameter type: int Default Mode: Block","title":"None Block & Block Mode"},{"location":"tutor/advanced/nonblock/#block-non-block-mode","text":"Shioaji provides return the responsed using Block and Non Block mode, putting the paramter of timeout can change the mode. Timeout default value is 5000 is wait the response for 5 second, but some api for data like tick data will become too large to receive in five second that need to scale up timeout or use Non-Block mode set the timeout as 0. Using cb parameter for Non-Block mode as the callback function. In api . place_order ? Out Signature : api . place_order ( contract : shioaji . contracts . Contract , order : shioaji . order . Order , timeout : int = 5000 , cb : Callable [[ shioaji . order . Trade ], NoneType ] = None , ) -> shioaji . order . Trade Docstring : placing order Type : method","title":"Block &amp; Non Block Mode"},{"location":"tutor/advanced/nonblock/#block","text":"In api . place_order ( contract , order , timeout = 5000 )","title":"Block"},{"location":"tutor/advanced/nonblock/#non-block","text":"In api . place_order ( contract , order , timeout = 0 )","title":"Non Block"},{"location":"tutor/advanced/nonblock/#support-function","text":"Fuction: ticks place_order update_order cancel_order update_status list_positions Parameter: timeout Parameter type: int Default Mode: Block","title":"Support Function"},{"location":"tutor/advanced/touchorder/","text":"Touch Price Order \u00b6 Here is a simple example that how to build your price monitor and when price touches the condition will place the order. from pydantic import BaseModel class TouchOrderCond ( BaseModel ): contract : Contract order : Order touch_price : float class TouchOrder : def __init__ ( self , api : sj . Shioaji , condition : TouchOrderCond ): self . flag = False self . api = api self . order = condition . order self . contract = condition . contract self . touch_price = condition . touch_price self . api . quote . subscribe ( self . contract ) self . api . quote . set_quote_callback ( self . touch ) def touch ( self , topic , quote ): price = quote [ \"Close\" ][ 0 ] if price == self . touch_price and not self . flag : self . flag = True self . api . place_order ( self . contract , self . order ) self . api . quote . unsubscribe ( self . contract ) Complete TouchPrice Order Extention can be found here.","title":"Touch Price Order"},{"location":"tutor/advanced/touchorder/#touch-price-order","text":"Here is a simple example that how to build your price monitor and when price touches the condition will place the order. from pydantic import BaseModel class TouchOrderCond ( BaseModel ): contract : Contract order : Order touch_price : float class TouchOrder : def __init__ ( self , api : sj . Shioaji , condition : TouchOrderCond ): self . flag = False self . api = api self . order = condition . order self . contract = condition . contract self . touch_price = condition . touch_price self . api . quote . subscribe ( self . contract ) self . api . quote . set_quote_callback ( self . touch ) def touch ( self , topic , quote ): price = quote [ \"Close\" ][ 0 ] if price == self . touch_price and not self . flag : self . flag = True self . api . place_order ( self . contract , self . order ) self . api . quote . unsubscribe ( self . contract ) Complete TouchPrice Order Extention can be found here.","title":"Touch Price Order"},{"location":"tutor/market_data/historical/","text":"Ticks Data \u00b6 Ticks Schema \u00b6 In from shioaji.data import Ticks Ticks ?? Out Init signature : Ticks ( ** data : Any ) -> None Docstring : < no docstring > Source : class Ticks ( BaseModel ): ts : typing . List [ int ] close : typing . List [ float ] volume : typing . List [ int ] bid_price : typing . List [ float ] bid_volume : typing . List [ int ] ask_price : typing . List [ float ] ask_volume : typing . List [ int ] File : shioaji / data . py Type : ModelMetaclass ticks function api \u00b6 In ticks = api . ticks ( api . Contracts . Stocks [ \"2330\" ], \"2020-03-04\" ) ticks Out Ticks ( ts = [ 1583312400821000000 , 1583312405836000000 , 1583312410849000000 , 1583312415864000000 , 1583312420877000000 ], close = [ 322.0 , 321.5 , 321.0 , 321.0 , 321.0 ], volume = [ 5098 , 91 , 126 , 59 , 90 ], bid_price = [ 321.5 , 321.0 , 321.0 , 321.0 , 321.0 ], bid_volume = [ 5 , 100 , 94 , 78 , 20 ], ask_price = [ 322.0 , 321.5 , 321.5 , 321.5 , 321.5 ], ask_volume = [ 646 , 13 , 31 , 86 , 199 ] ) Ticks to DataFrame \u00b6 In import pandas as pd df = pd . DataFrame ({ ** ticks }) df . ts = pd . to_datetime ( df . ts ) df . head () Out ts ask_volume ask_price close bid_price bid_volume volume 0 2020-03-04 09:00:00.821 646 322.0 322.0 321.5 5 5098 1 2020-03-04 09:00:05.836 13 321.5 321.5 321.0 100 91 2 2020-03-04 09:00:10.849 31 321.5 321.0 321.0 94 126 3 2020-03-04 09:00:15.864 86 321.5 321.0 321.0 78 59 4 2020-03-04 09:00:20.877 199 321.5 321.0 321.0 20 90 KBar Data \u00b6 In from shioaji.data import Kbars Kbars ?? Out Init signature : Kbars ( ** data : Any ) -> None Docstring : < no docstring > Source : class Kbars ( BaseMapping ): ts : typing . List [ int ] Open : typing . List [ float ] High : typing . List [ float ] Low : typing . List [ float ] Close : typing . List [ float ] Volume : typing . List [ int ] In kbars = api . kbars ( api . Contracts . Stocks [ \"2330\" ], start = \"2020-06-01\" , end = \"2020-07-01\" ) df = pd . DataFrame ({ ** kbars }) df . ts = pd . to_datetime ( df . ts ) df Out ts Close Open High Volume Low 0 2020-06-01 09:01:00 294.0 294.0 294.0 3187 293.5 1 2020-06-01 09:02:00 293.5 293.5 294.0 201 293.5 2 2020-06-01 09:03:00 294.0 293.5 294.0 267 293.5 3 2020-06-01 09:04:00 294.5 294.0 294.5 624 293.5 4 2020-06-01 09:05:00 294.0 294.0 294.5 419 293.5","title":"Historical Market Data"},{"location":"tutor/market_data/historical/#ticks-data","text":"","title":"Ticks Data"},{"location":"tutor/market_data/historical/#ticks-schema","text":"In from shioaji.data import Ticks Ticks ?? Out Init signature : Ticks ( ** data : Any ) -> None Docstring : < no docstring > Source : class Ticks ( BaseModel ): ts : typing . List [ int ] close : typing . List [ float ] volume : typing . List [ int ] bid_price : typing . List [ float ] bid_volume : typing . List [ int ] ask_price : typing . List [ float ] ask_volume : typing . List [ int ] File : shioaji / data . py Type : ModelMetaclass","title":"Ticks Schema"},{"location":"tutor/market_data/historical/#ticks-function-api","text":"In ticks = api . ticks ( api . Contracts . Stocks [ \"2330\" ], \"2020-03-04\" ) ticks Out Ticks ( ts = [ 1583312400821000000 , 1583312405836000000 , 1583312410849000000 , 1583312415864000000 , 1583312420877000000 ], close = [ 322.0 , 321.5 , 321.0 , 321.0 , 321.0 ], volume = [ 5098 , 91 , 126 , 59 , 90 ], bid_price = [ 321.5 , 321.0 , 321.0 , 321.0 , 321.0 ], bid_volume = [ 5 , 100 , 94 , 78 , 20 ], ask_price = [ 322.0 , 321.5 , 321.5 , 321.5 , 321.5 ], ask_volume = [ 646 , 13 , 31 , 86 , 199 ] )","title":"ticks function api"},{"location":"tutor/market_data/historical/#ticks-to-dataframe","text":"In import pandas as pd df = pd . DataFrame ({ ** ticks }) df . ts = pd . to_datetime ( df . ts ) df . head () Out ts ask_volume ask_price close bid_price bid_volume volume 0 2020-03-04 09:00:00.821 646 322.0 322.0 321.5 5 5098 1 2020-03-04 09:00:05.836 13 321.5 321.5 321.0 100 91 2 2020-03-04 09:00:10.849 31 321.5 321.0 321.0 94 126 3 2020-03-04 09:00:15.864 86 321.5 321.0 321.0 78 59 4 2020-03-04 09:00:20.877 199 321.5 321.0 321.0 20 90","title":"Ticks to DataFrame"},{"location":"tutor/market_data/historical/#kbar-data","text":"In from shioaji.data import Kbars Kbars ?? Out Init signature : Kbars ( ** data : Any ) -> None Docstring : < no docstring > Source : class Kbars ( BaseMapping ): ts : typing . List [ int ] Open : typing . List [ float ] High : typing . List [ float ] Low : typing . List [ float ] Close : typing . List [ float ] Volume : typing . List [ int ] In kbars = api . kbars ( api . Contracts . Stocks [ \"2330\" ], start = \"2020-06-01\" , end = \"2020-07-01\" ) df = pd . DataFrame ({ ** kbars }) df . ts = pd . to_datetime ( df . ts ) df Out ts Close Open High Volume Low 0 2020-06-01 09:01:00 294.0 294.0 294.0 3187 293.5 1 2020-06-01 09:02:00 293.5 293.5 294.0 201 293.5 2 2020-06-01 09:03:00 294.0 293.5 294.0 267 293.5 3 2020-06-01 09:04:00 294.5 294.0 294.5 624 293.5 4 2020-06-01 09:05:00 294.0 294.0 294.5 419 293.5","title":"KBar Data"},{"location":"tutor/market_data/short_stock_source/","text":"First, you need login. \u00b6 Get Short Stock Source \u00b6 In contracts = [ api . Contracts . Stocks [ '2330' ], api . Contracts . Stocks [ '2317' ]] short_stock_sources = api . short_stock_sources ( contracts ) short_stock_sources Out [ ShortStockSource ( code = '2330' , short_stock_source = 12678 , ts = 1589797829000000000 ), ShortStockSource ( code = '2317' , short_stock_source = 20093 , ts = 1589797829000000000 )] Short Stock Source to DataFrame \u00b6 In contracts = [ api . Contracts . Stocks [ '2330' ], api . Contracts . Stocks [ '2317' ]] short_stock_sources = api . short_stock_sources ( contracts ) df = pd . DataFrame ( short_stock_sources ) df . ts = pd . to_datetime ( df . ts ) df Out code short_stock_source ts 0 2330 12678 2020-05-18 10:30:29 1 2317 20093 2020-05-18 10:30:29 Attributes: code ( str ): Contract id . short_stock_source ( float ): short_stock_source ts ( int ): TimeStamp .","title":"Short Stock Source"},{"location":"tutor/market_data/short_stock_source/#first-you-need-login","text":"","title":"First, you need login."},{"location":"tutor/market_data/short_stock_source/#get-short-stock-source","text":"In contracts = [ api . Contracts . Stocks [ '2330' ], api . Contracts . Stocks [ '2317' ]] short_stock_sources = api . short_stock_sources ( contracts ) short_stock_sources Out [ ShortStockSource ( code = '2330' , short_stock_source = 12678 , ts = 1589797829000000000 ), ShortStockSource ( code = '2317' , short_stock_source = 20093 , ts = 1589797829000000000 )]","title":"Get Short Stock Source"},{"location":"tutor/market_data/short_stock_source/#short-stock-source-to-dataframe","text":"In contracts = [ api . Contracts . Stocks [ '2330' ], api . Contracts . Stocks [ '2317' ]] short_stock_sources = api . short_stock_sources ( contracts ) df = pd . DataFrame ( short_stock_sources ) df . ts = pd . to_datetime ( df . ts ) df Out code short_stock_source ts 0 2330 12678 2020-05-18 10:30:29 1 2317 20093 2020-05-18 10:30:29 Attributes: code ( str ): Contract id . short_stock_source ( float ): short_stock_source ts ( int ): TimeStamp .","title":"Short Stock Source to DataFrame"},{"location":"tutor/market_data/streaming/","text":"subscribe \u00b6 In api . quote . subscribe ? Out Signature : api . quote . subscribe ( contract : shioaji . contracts . Contract , quote_type : shioaji . constant . QuoteType =< QuoteType . Tick : 'tick' > , ) Docstring : < no docstring > Type : method In above you can see the subscribe function signature with contract and quote type parameter, contract we have discussed in previous topic. quote_type is about which quote you want to subscribe(tick or bidask). Tick \u00b6 In api . quote . subscribe ( api . Contracts . Stocks [ \"2330\" ], quote_type = sj . constant . QuoteType . Tick ) Out Response Code : 200 | Event Code : 16 | Info : MKT / TSE / 2330 | Event : Subscribe or Unsubscribe ok You can start receiving tick data by above action. In api . quote . subscribe ( api . Contracts . Stocks [ \"2890\" ], quote_type = 'tick' ) Out Response Code : 200 | Event Code : 16 | Info : MKT /*/ TSE / 2890 | Event : Subscribe or Unsubscribe ok MKT / redisrd / TSE / 2330 { 'Close' : [ 239.5 ], 'Time' : '11:11:42.624718' , 'VolSum' : [ 12206 ], 'Volume' : [ 5 ]} MKT / redisrd / TSE / 2330 { 'Close' : [ 239.5 ], 'Time' : '11:11:47.628718' , 'VolSum' : [ 12206 ], 'Volume' : [ 2 ]} quote_type can also be just string 'tick' is same as sj.constant.QuoteType.Tick , we create enum for your with editor can just use autocomplete tools to help you typing less letter. In api . quote . subscribe ( api . Contracts . Stocks [ \"2890\" ], quote_type = 'tick' ) Out Response Code : 200 | Event Code : 16 | Info : MKT /*/ TSE / 2890 | Event : Subscribe or Unsubscribe ok quote_type can also be just string 'tick' is same as sj.constant.QuoteType.Tick , we create enum for your with editor can just use autocomplete tools to help you typing less letter. BidAsk \u00b6 In api . quote . subscribe ( api . Contracts . Stocks [ \"2330\" ], quote_type = sj . constant . QuoteType . BidAsk ) Out Response Code : 200 | Event Code : 16 | Info : QUT /*/ TSE / 2330 | Event : Subscribe or Unsubscribe ok QUT / redisrd / TSE / 2330 { 'AskPrice' : [ 240.0 , 240.5 , 241.0 , 241.5 , 242.0 ], 'AskVolume' : [ 1808 , 1789 , 1645 , 582 , 1170 ], 'BidPrice' : [ 239.5 , 239.0 , 238.5 , 238.0 , 237.5 ], 'BidVolume' : [ 204 , 765 , 389 , 475 , 359 ], 'Date' : '2019/03/18' , 'Time' : '11:11:42.624718' } quote_type set as 'bidask' will receive the order book data. Quote Callback \u00b6 In default, we set quote callback as print function. Let's talk about set quote callback In @api . quote . on_quote def quote_callback ( topic : str , quote : dict ): print ( f \"Topic: { topic } , Quote: { quote } \" ) Out Topic : MKT / redisrd / TSE / 2330 , Quote : { 'Close' : [ 239.5 ], 'Time' : '11:11:42.624718' , 'VolSum' : [ 12206 ], 'Volume' : [ 5 ]} In above with pythonic way using decorator to set your quote callback. When callback setting done, The new arrived quote will use this function to processing. In def quote_callback ( topic : str , quote : dict ): print ( f \"Topic: { topic } , Quote: { quote } \" ) api . quote . set_quote_callback ( quote_callback ) The traditional way to set quote callback. Event Callback \u00b6 event In this api, we use solace as mesh borker. This event mean the status for your client with solace connection situation. If you have no experience with networking, please skip this part, In defalut, we help you reconnect solace broker 50 times without any setting. Best way is keep your network connection alive. In @api . quote . on_event def event_callback ( resp_code : int , event_code : int , info : str , event : str ): print ( f 'Event code: { event_code } | Event: { event } ' ) Out Event code : 16 | Event : Subscribe or Unsubscribe ok Like the quote callback, your can also set event cllback with two way just make quote -> event . In api . quote . set_event_callback ? Out Signature : api . quote . set_event_callback ( func : Callable [[ int , int , str , str ], NoneType ]) -> None Docstring : < no docstring > Type : method If you want to set event callback please pay attention one the event callback signature. Event Code \u00b6 Event Code Event Code Enumerator Description 0 SOLCLIENT_SESSION_EVENT_UP_NOTICE The Session is established. 1 SOLCLIENT_SESSION_EVENT_DOWN_ERROR The Session was established and then went down. 2 SOLCLIENT_SESSION_EVENT_CONNECT_FAILED_ERROR The Session attempted to connect but was unsuccessful. 3 SOLCLIENT_SESSION_EVENT_REJECTED_MSG_ERROR The appliance rejected a published message. 4 SOLCLIENT_SESSION_EVENT_SUBSCRIPTION_ERROR The appliance rejected a subscription (add or remove). 5 SOLCLIENT_SESSION_EVENT_RX_MSG_TOO_BIG_ERROR The API discarded a received message that exceeded the Session buffer size. 6 SOLCLIENT_SESSION_EVENT_ACKNOWLEDGEMENT The oldest transmitted Persistent/Non-Persistent message that has been acknowledged. 7 SOLCLIENT_SESSION_EVENT_ASSURED_PUBLISHING_UP Deprecated -- see notes in solClient_session_startAssuredPublishing.The AD Handshake (that is, Guaranteed Delivery handshake) has completed for the publisher and Guaranteed messages can be sent. 8 SOLCLIENT_SESSION_EVENT_ASSURED_CONNECT_FAILED Deprecated -- see notes in solClient_session_startAssuredPublishing.The appliance rejected the AD Handshake to start Guaranteed publishing. Use SOLCLIENT_SESSION_EVENT_ASSURED_DELIVERY_DOWN instead. 8 SOLCLIENT_SESSION_EVENT_ASSURED_DELIVERY_DOWN Guaranteed Delivery publishing is not available.The guaranteed delivery capability on the session has been disabled by some action on the appliance. 9 SOLCLIENT_SESSION_EVENT_TE_UNSUBSCRIBE_ERROR The Topic Endpoint unsubscribe command failed. 9 SOLCLIENT_SESSION_EVENT_DTE_UNSUBSCRIBE_ERROR Deprecated name; SOLCLIENT_SESSION_EVENT_TE_UNSUBSCRIBE_ERROR is preferred. 10 SOLCLIENT_SESSION_EVENT_TE_UNSUBSCRIBE_OK The Topic Endpoint unsubscribe completed. 10 SOLCLIENT_SESSION_EVENT_DTE_UNSUBSCRIBE_OK Deprecated name; SOLCLIENT_SESSION_EVENT_TE_UNSUBSCRIBE_OK is preferred. 11 SOLCLIENT_SESSION_EVENT_CAN_SEND The send is no longer blocked. 12 SOLCLIENT_SESSION_EVENT_RECONNECTING_NOTICE The Session has gone down, and an automatic reconnect attempt is in progress. 13 SOLCLIENT_SESSION_EVENT_RECONNECTED_NOTICE The automatic reconnect of the Session was successful, and the Session was established again. 14 SOLCLIENT_SESSION_EVENT_PROVISION_ERROR The endpoint create/delete command failed. 15 SOLCLIENT_SESSION_EVENT_PROVISION_OK The endpoint create/delete command completed. 16 SOLCLIENT_SESSION_EVENT_SUBSCRIPTION_OK The subscribe or unsubscribe operation has succeeded. 17 SOLCLIENT_SESSION_EVENT_VIRTUAL_ROUTER_NAME_CHANGED The appliance's Virtual Router Name changed during a reconnect operation.This could render existing queues or temporary topics invalid. 18 SOLCLIENT_SESSION_EVENT_MODIFYPROP_OK The session property modification completed. 19 SOLCLIENT_SESSION_EVENT_MODIFYPROP_FAIL The session property modification failed. 20 SOLCLIENT_SESSION_EVENT_REPUBLISH_UNACKED_MESSAGES After successfully reconnecting a disconnected session, the SDK received an unknown publisher flow name response when reconnecting the GD publisher flow. Quote Format \u00b6 Tick \u00b6 BidAsk \u00b6 Conclusion \u00b6 Contract object will be used by a lot of place like place order and subscribe quote etc... So Keep in mind how to get the contract you want to use.","title":"Streaming Market Data"},{"location":"tutor/market_data/streaming/#subscribe","text":"In api . quote . subscribe ? Out Signature : api . quote . subscribe ( contract : shioaji . contracts . Contract , quote_type : shioaji . constant . QuoteType =< QuoteType . Tick : 'tick' > , ) Docstring : < no docstring > Type : method In above you can see the subscribe function signature with contract and quote type parameter, contract we have discussed in previous topic. quote_type is about which quote you want to subscribe(tick or bidask).","title":"subscribe"},{"location":"tutor/market_data/streaming/#tick","text":"In api . quote . subscribe ( api . Contracts . Stocks [ \"2330\" ], quote_type = sj . constant . QuoteType . Tick ) Out Response Code : 200 | Event Code : 16 | Info : MKT / TSE / 2330 | Event : Subscribe or Unsubscribe ok You can start receiving tick data by above action. In api . quote . subscribe ( api . Contracts . Stocks [ \"2890\" ], quote_type = 'tick' ) Out Response Code : 200 | Event Code : 16 | Info : MKT /*/ TSE / 2890 | Event : Subscribe or Unsubscribe ok MKT / redisrd / TSE / 2330 { 'Close' : [ 239.5 ], 'Time' : '11:11:42.624718' , 'VolSum' : [ 12206 ], 'Volume' : [ 5 ]} MKT / redisrd / TSE / 2330 { 'Close' : [ 239.5 ], 'Time' : '11:11:47.628718' , 'VolSum' : [ 12206 ], 'Volume' : [ 2 ]} quote_type can also be just string 'tick' is same as sj.constant.QuoteType.Tick , we create enum for your with editor can just use autocomplete tools to help you typing less letter. In api . quote . subscribe ( api . Contracts . Stocks [ \"2890\" ], quote_type = 'tick' ) Out Response Code : 200 | Event Code : 16 | Info : MKT /*/ TSE / 2890 | Event : Subscribe or Unsubscribe ok quote_type can also be just string 'tick' is same as sj.constant.QuoteType.Tick , we create enum for your with editor can just use autocomplete tools to help you typing less letter.","title":"Tick"},{"location":"tutor/market_data/streaming/#bidask","text":"In api . quote . subscribe ( api . Contracts . Stocks [ \"2330\" ], quote_type = sj . constant . QuoteType . BidAsk ) Out Response Code : 200 | Event Code : 16 | Info : QUT /*/ TSE / 2330 | Event : Subscribe or Unsubscribe ok QUT / redisrd / TSE / 2330 { 'AskPrice' : [ 240.0 , 240.5 , 241.0 , 241.5 , 242.0 ], 'AskVolume' : [ 1808 , 1789 , 1645 , 582 , 1170 ], 'BidPrice' : [ 239.5 , 239.0 , 238.5 , 238.0 , 237.5 ], 'BidVolume' : [ 204 , 765 , 389 , 475 , 359 ], 'Date' : '2019/03/18' , 'Time' : '11:11:42.624718' } quote_type set as 'bidask' will receive the order book data.","title":"BidAsk"},{"location":"tutor/market_data/streaming/#quote-callback","text":"In default, we set quote callback as print function. Let's talk about set quote callback In @api . quote . on_quote def quote_callback ( topic : str , quote : dict ): print ( f \"Topic: { topic } , Quote: { quote } \" ) Out Topic : MKT / redisrd / TSE / 2330 , Quote : { 'Close' : [ 239.5 ], 'Time' : '11:11:42.624718' , 'VolSum' : [ 12206 ], 'Volume' : [ 5 ]} In above with pythonic way using decorator to set your quote callback. When callback setting done, The new arrived quote will use this function to processing. In def quote_callback ( topic : str , quote : dict ): print ( f \"Topic: { topic } , Quote: { quote } \" ) api . quote . set_quote_callback ( quote_callback ) The traditional way to set quote callback.","title":"Quote Callback"},{"location":"tutor/market_data/streaming/#event-callback","text":"event In this api, we use solace as mesh borker. This event mean the status for your client with solace connection situation. If you have no experience with networking, please skip this part, In defalut, we help you reconnect solace broker 50 times without any setting. Best way is keep your network connection alive. In @api . quote . on_event def event_callback ( resp_code : int , event_code : int , info : str , event : str ): print ( f 'Event code: { event_code } | Event: { event } ' ) Out Event code : 16 | Event : Subscribe or Unsubscribe ok Like the quote callback, your can also set event cllback with two way just make quote -> event . In api . quote . set_event_callback ? Out Signature : api . quote . set_event_callback ( func : Callable [[ int , int , str , str ], NoneType ]) -> None Docstring : < no docstring > Type : method If you want to set event callback please pay attention one the event callback signature.","title":"Event Callback"},{"location":"tutor/market_data/streaming/#event-code","text":"Event Code Event Code Enumerator Description 0 SOLCLIENT_SESSION_EVENT_UP_NOTICE The Session is established. 1 SOLCLIENT_SESSION_EVENT_DOWN_ERROR The Session was established and then went down. 2 SOLCLIENT_SESSION_EVENT_CONNECT_FAILED_ERROR The Session attempted to connect but was unsuccessful. 3 SOLCLIENT_SESSION_EVENT_REJECTED_MSG_ERROR The appliance rejected a published message. 4 SOLCLIENT_SESSION_EVENT_SUBSCRIPTION_ERROR The appliance rejected a subscription (add or remove). 5 SOLCLIENT_SESSION_EVENT_RX_MSG_TOO_BIG_ERROR The API discarded a received message that exceeded the Session buffer size. 6 SOLCLIENT_SESSION_EVENT_ACKNOWLEDGEMENT The oldest transmitted Persistent/Non-Persistent message that has been acknowledged. 7 SOLCLIENT_SESSION_EVENT_ASSURED_PUBLISHING_UP Deprecated -- see notes in solClient_session_startAssuredPublishing.The AD Handshake (that is, Guaranteed Delivery handshake) has completed for the publisher and Guaranteed messages can be sent. 8 SOLCLIENT_SESSION_EVENT_ASSURED_CONNECT_FAILED Deprecated -- see notes in solClient_session_startAssuredPublishing.The appliance rejected the AD Handshake to start Guaranteed publishing. Use SOLCLIENT_SESSION_EVENT_ASSURED_DELIVERY_DOWN instead. 8 SOLCLIENT_SESSION_EVENT_ASSURED_DELIVERY_DOWN Guaranteed Delivery publishing is not available.The guaranteed delivery capability on the session has been disabled by some action on the appliance. 9 SOLCLIENT_SESSION_EVENT_TE_UNSUBSCRIBE_ERROR The Topic Endpoint unsubscribe command failed. 9 SOLCLIENT_SESSION_EVENT_DTE_UNSUBSCRIBE_ERROR Deprecated name; SOLCLIENT_SESSION_EVENT_TE_UNSUBSCRIBE_ERROR is preferred. 10 SOLCLIENT_SESSION_EVENT_TE_UNSUBSCRIBE_OK The Topic Endpoint unsubscribe completed. 10 SOLCLIENT_SESSION_EVENT_DTE_UNSUBSCRIBE_OK Deprecated name; SOLCLIENT_SESSION_EVENT_TE_UNSUBSCRIBE_OK is preferred. 11 SOLCLIENT_SESSION_EVENT_CAN_SEND The send is no longer blocked. 12 SOLCLIENT_SESSION_EVENT_RECONNECTING_NOTICE The Session has gone down, and an automatic reconnect attempt is in progress. 13 SOLCLIENT_SESSION_EVENT_RECONNECTED_NOTICE The automatic reconnect of the Session was successful, and the Session was established again. 14 SOLCLIENT_SESSION_EVENT_PROVISION_ERROR The endpoint create/delete command failed. 15 SOLCLIENT_SESSION_EVENT_PROVISION_OK The endpoint create/delete command completed. 16 SOLCLIENT_SESSION_EVENT_SUBSCRIPTION_OK The subscribe or unsubscribe operation has succeeded. 17 SOLCLIENT_SESSION_EVENT_VIRTUAL_ROUTER_NAME_CHANGED The appliance's Virtual Router Name changed during a reconnect operation.This could render existing queues or temporary topics invalid. 18 SOLCLIENT_SESSION_EVENT_MODIFYPROP_OK The session property modification completed. 19 SOLCLIENT_SESSION_EVENT_MODIFYPROP_FAIL The session property modification failed. 20 SOLCLIENT_SESSION_EVENT_REPUBLISH_UNACKED_MESSAGES After successfully reconnecting a disconnected session, the SDK received an unknown publisher flow name response when reconnecting the GD publisher flow.","title":"Event Code"},{"location":"tutor/market_data/streaming/#quote-format","text":"","title":"Quote Format"},{"location":"tutor/market_data/streaming/#tick_1","text":"","title":"Tick"},{"location":"tutor/market_data/streaming/#bidask_1","text":"","title":"BidAsk"},{"location":"tutor/market_data/streaming/#conclusion","text":"Contract object will be used by a lot of place like place order and subscribe quote etc... So Keep in mind how to get the contract you want to use.","title":"Conclusion"},{"location":"tutor/order/Future_Option/","text":"Place Order \u00b6 Future and Option place order jupyter link First, you need login. \u00b6 Get Contract Object. \u00b6 In contract = api . Contracts . Futures . TXF . TXF202004 Making Order Object. \u00b6 Buy \u00b6 In order = api . Order ( action = \"Buy\" , price = 10200 , quantity = 2 , order_type = \"ROD\" , price_type = \"LMT\" , octype = \"Auto\" , account = api . futopt_account ) Order Object \u00b6 Attributes: price ( float or int ): the price of order quantity ( int ): the quantity of order action ( str ): order action to buy or sell { Buy , Sell } price_type ( str ): pricing type of order { LMT , MKT , MKP } order_type ( str ): the type of order { ROD , IOC , FOK } octype ( str ): the type or order to open new position or close position future only { Auto , NewPosition , Cover , DayTrade } ( \u81ea\u52d5 \u3001 \u65b0\u5009 \u3001 \u5e73\u5009 \u3001 \u7576\u6c96 ) account (: obj : Account ): which account to place this order ca ( binary ): the ca of this order Place order \u00b6 In trade = api . place_order ( contract , order ) Status of Trade PendingSubmit : \u50b3\u9001\u4e2d PreSubmitted : \u9810\u7d04\u55ae Submitted : \u50b3\u9001\u6210\u529f Failed : \u5931\u6557 Cancelled : \u5df2\u522a\u9664 Filled : \u5b8c\u5168\u6210\u4ea4 Filling : \u90e8\u5206\u6210\u4ea4 For Example \u00b6 Place Order ROD LMT \u00b6 In Production import shioaji as sj api = sj . Shioaji () accounts = api . login ( \"YOUR_PERSON_ID\" , \"YOUR_PASSWORD\" , contracts_timeout = 10000 ) api . activate_ca ( ca_path = \"/c/your/ca/path/Sinopac.pfx\" , ca_passwd = \"YOUR_CA_PASSWORD\" , person_id = \"Person of this Ca\" , ) contract = api . Contracts . Futures . TXF . TXF202004 order = api . Order ( action = \"Buy\" , price = 10200 , quantity = 2 , order_type = \"ROD\" , price_type = \"LMT\" , octype = \"Auto\" , account = api . futopt_account ) trade = api . place_order ( contract , order ) trade Simulation import shioaji as sj api = sj . Shioaji ( simulation = True ) accounts = api . login ( \"PAPIUSER01\" , \"2222\" , contracts_timeout = 10000 ) contract = api . Contracts . Futures . TXF . TXF202004 order = api . Order ( action = \"Buy\" , price = 10200 , quantity = 2 , order_type = \"ROD\" , price_type = \"LMT\" , octype = \"Auto\" , account = api . futopt_account ) trade = api . place_order ( contract , order ) trade Out Trade ( contract = Future ( code = 'TXFD0' , symbol = 'TXF202004' , name = '\u81fa\u80a1\u671f\u8ca8' , category = 'TXF' , delivery_month = '202004' , underlying_kind = 'I' ), order = Order ( action =< Action . Buy : 'Buy' > , price = 10200.0 , quantity = 2 , id = 'f691f576' , seqno = '862631' , account = Account ( account_type =< AccountType . Stock : 'F' > , person_id = 'RBCCJCBIGB' , broker_id = '9A95' , account_id = '9809975' , signed = True ), price_type =< StockPriceType . LMT : 'LMT' > , order_type =< FuturesOrderType . ROD : 'ROD' > ), status = OrderStatus ( id = 'f691f576' , status =< Status . PendingSubmit : 'PendingSubmit' > , status_code = ' ' , order_datetime = datetime . datetime ( 2020 , 3 , 5 , 10 , 24 , 13 ), deals = [] ) ) Status of Trade PendingSubmit : \u50b3\u9001\u4e2d PreSubmitted : \u9810\u7d04\u55ae Submitted : \u50b3\u9001\u6210\u529f Failed : \u5931\u6557 Cancelled : \u5df2\u522a\u9664 Filled : \u5b8c\u5168\u6210\u4ea4 Filling : \u90e8\u5206\u6210\u4ea4 Cancel Order \u00b6 In api . update_status ( api . futopt_account ) api . cancel_order ( trade ) api . update_status ( api . futopt_account ) trade Out Trade ( contract = Future ( code = 'TXFD0' , symbol = 'TXF202004' , name = '\u81fa\u80a1\u671f\u8ca8' , category = 'TXF' , delivery_month = '202004' , underlying_kind = 'I' ), order = Order ( action =< Action . Buy : 'Buy' > , price = 10200.0 , quantity = 2 , id = 'f691f576' , seqno = '862631' , ordno = 'ta0FG' , account = Account ( account_type =< AccountType . Stock : 'F' > , person_id = 'RBCCJCBIGB' , broker_id = '9A95' , account_id = '9809975' , signed = True ), price_type =< StockPriceType . LMT : 'LMT' > , order_type =< FuturesOrderType . ROD : 'ROD' > ), status = OrderStatus ( id = 'f691f576' , status =< Status . Submitted : 'Submitted' > , status_code = '0000' , order_datetime = datetime . datetime ( 2020 , 3 , 5 , 10 , 24 , 15 ), modified_price = 10200.0 , cancel_quantity = 2 , deals = [] ) ) Update Order \u00b6 In api . update_status ( api . futopt_account ) api . update_order ( trade = trade , price = 10200 , qty = 1 ) api . update_status ( api . futopt_account ) trade Out Trade ( contract = Future ( code = 'TXFD0' , symbol = 'TXF202004' , name = '\u81fa\u80a1\u671f\u8ca8' , category = 'TXF' , delivery_month = '202004' , underlying_kind = 'I' ), order = Order ( action =< Action . Buy : 'Buy' > , price = 10200.0 , quantity = 2 , id = 'f691f576' , seqno = '862631' , ordno = 'ta0FG' , account = Account ( account_type =< AccountType . Stock : 'F' > , person_id = 'RBCCJCBIGB' , broker_id = '9A95' , account_id = '9809975' , signed = True ), price_type =< StockPriceType . LMT : 'LMT' > , order_type =< FuturesOrderType . ROD : 'ROD' > ), status = OrderStatus ( id = 'f691f576' , status =< Status . Submitted : 'Submitted' > , status_code = '0000' , order_datetime = datetime . datetime ( 2020 , 3 , 5 , 10 , 24 , 15 ), modified_price = 10200.0 , cancel_quantity = 1 , deals = [] ) )","title":"Future and Option"},{"location":"tutor/order/Future_Option/#place-order","text":"Future and Option place order jupyter link","title":"Place Order"},{"location":"tutor/order/Future_Option/#first-you-need-login","text":"","title":"First, you need login."},{"location":"tutor/order/Future_Option/#get-contract-object","text":"In contract = api . Contracts . Futures . TXF . TXF202004","title":"Get Contract Object."},{"location":"tutor/order/Future_Option/#making-order-object","text":"","title":"Making Order Object."},{"location":"tutor/order/Future_Option/#buy","text":"In order = api . Order ( action = \"Buy\" , price = 10200 , quantity = 2 , order_type = \"ROD\" , price_type = \"LMT\" , octype = \"Auto\" , account = api . futopt_account )","title":"Buy"},{"location":"tutor/order/Future_Option/#order-object","text":"Attributes: price ( float or int ): the price of order quantity ( int ): the quantity of order action ( str ): order action to buy or sell { Buy , Sell } price_type ( str ): pricing type of order { LMT , MKT , MKP } order_type ( str ): the type of order { ROD , IOC , FOK } octype ( str ): the type or order to open new position or close position future only { Auto , NewPosition , Cover , DayTrade } ( \u81ea\u52d5 \u3001 \u65b0\u5009 \u3001 \u5e73\u5009 \u3001 \u7576\u6c96 ) account (: obj : Account ): which account to place this order ca ( binary ): the ca of this order","title":"Order Object"},{"location":"tutor/order/Future_Option/#place-order_1","text":"In trade = api . place_order ( contract , order ) Status of Trade PendingSubmit : \u50b3\u9001\u4e2d PreSubmitted : \u9810\u7d04\u55ae Submitted : \u50b3\u9001\u6210\u529f Failed : \u5931\u6557 Cancelled : \u5df2\u522a\u9664 Filled : \u5b8c\u5168\u6210\u4ea4 Filling : \u90e8\u5206\u6210\u4ea4","title":"Place order"},{"location":"tutor/order/Future_Option/#for-example","text":"","title":"For Example"},{"location":"tutor/order/Future_Option/#place-order-rod-lmt","text":"In Production import shioaji as sj api = sj . Shioaji () accounts = api . login ( \"YOUR_PERSON_ID\" , \"YOUR_PASSWORD\" , contracts_timeout = 10000 ) api . activate_ca ( ca_path = \"/c/your/ca/path/Sinopac.pfx\" , ca_passwd = \"YOUR_CA_PASSWORD\" , person_id = \"Person of this Ca\" , ) contract = api . Contracts . Futures . TXF . TXF202004 order = api . Order ( action = \"Buy\" , price = 10200 , quantity = 2 , order_type = \"ROD\" , price_type = \"LMT\" , octype = \"Auto\" , account = api . futopt_account ) trade = api . place_order ( contract , order ) trade Simulation import shioaji as sj api = sj . Shioaji ( simulation = True ) accounts = api . login ( \"PAPIUSER01\" , \"2222\" , contracts_timeout = 10000 ) contract = api . Contracts . Futures . TXF . TXF202004 order = api . Order ( action = \"Buy\" , price = 10200 , quantity = 2 , order_type = \"ROD\" , price_type = \"LMT\" , octype = \"Auto\" , account = api . futopt_account ) trade = api . place_order ( contract , order ) trade Out Trade ( contract = Future ( code = 'TXFD0' , symbol = 'TXF202004' , name = '\u81fa\u80a1\u671f\u8ca8' , category = 'TXF' , delivery_month = '202004' , underlying_kind = 'I' ), order = Order ( action =< Action . Buy : 'Buy' > , price = 10200.0 , quantity = 2 , id = 'f691f576' , seqno = '862631' , account = Account ( account_type =< AccountType . Stock : 'F' > , person_id = 'RBCCJCBIGB' , broker_id = '9A95' , account_id = '9809975' , signed = True ), price_type =< StockPriceType . LMT : 'LMT' > , order_type =< FuturesOrderType . ROD : 'ROD' > ), status = OrderStatus ( id = 'f691f576' , status =< Status . PendingSubmit : 'PendingSubmit' > , status_code = ' ' , order_datetime = datetime . datetime ( 2020 , 3 , 5 , 10 , 24 , 13 ), deals = [] ) ) Status of Trade PendingSubmit : \u50b3\u9001\u4e2d PreSubmitted : \u9810\u7d04\u55ae Submitted : \u50b3\u9001\u6210\u529f Failed : \u5931\u6557 Cancelled : \u5df2\u522a\u9664 Filled : \u5b8c\u5168\u6210\u4ea4 Filling : \u90e8\u5206\u6210\u4ea4","title":"Place Order ROD LMT"},{"location":"tutor/order/Future_Option/#cancel-order","text":"In api . update_status ( api . futopt_account ) api . cancel_order ( trade ) api . update_status ( api . futopt_account ) trade Out Trade ( contract = Future ( code = 'TXFD0' , symbol = 'TXF202004' , name = '\u81fa\u80a1\u671f\u8ca8' , category = 'TXF' , delivery_month = '202004' , underlying_kind = 'I' ), order = Order ( action =< Action . Buy : 'Buy' > , price = 10200.0 , quantity = 2 , id = 'f691f576' , seqno = '862631' , ordno = 'ta0FG' , account = Account ( account_type =< AccountType . Stock : 'F' > , person_id = 'RBCCJCBIGB' , broker_id = '9A95' , account_id = '9809975' , signed = True ), price_type =< StockPriceType . LMT : 'LMT' > , order_type =< FuturesOrderType . ROD : 'ROD' > ), status = OrderStatus ( id = 'f691f576' , status =< Status . Submitted : 'Submitted' > , status_code = '0000' , order_datetime = datetime . datetime ( 2020 , 3 , 5 , 10 , 24 , 15 ), modified_price = 10200.0 , cancel_quantity = 2 , deals = [] ) )","title":"Cancel Order"},{"location":"tutor/order/Future_Option/#update-order","text":"In api . update_status ( api . futopt_account ) api . update_order ( trade = trade , price = 10200 , qty = 1 ) api . update_status ( api . futopt_account ) trade Out Trade ( contract = Future ( code = 'TXFD0' , symbol = 'TXF202004' , name = '\u81fa\u80a1\u671f\u8ca8' , category = 'TXF' , delivery_month = '202004' , underlying_kind = 'I' ), order = Order ( action =< Action . Buy : 'Buy' > , price = 10200.0 , quantity = 2 , id = 'f691f576' , seqno = '862631' , ordno = 'ta0FG' , account = Account ( account_type =< AccountType . Stock : 'F' > , person_id = 'RBCCJCBIGB' , broker_id = '9A95' , account_id = '9809975' , signed = True ), price_type =< StockPriceType . LMT : 'LMT' > , order_type =< FuturesOrderType . ROD : 'ROD' > ), status = OrderStatus ( id = 'f691f576' , status =< Status . Submitted : 'Submitted' > , status_code = '0000' , order_datetime = datetime . datetime ( 2020 , 3 , 5 , 10 , 24 , 15 ), modified_price = 10200.0 , cancel_quantity = 1 , deals = [] ) )","title":"Update Order"},{"location":"tutor/order/IntradayOdd/","text":"Place Order \u00b6 Stock place order jupyter link First, you need login. \u00b6 For Example \u00b6 Place Order Intraday Odd \u00b6 In Production import shioaji as sj api = sj . Shioaji () accounts = api . login ( \"YOUR_PERSON_ID\" , \"YOUR_PASSWORD\" , contracts_timeout = 10000 ) api . activate_ca ( ca_path = \"/c/your/ca/path/Sinopac.pfx\" , ca_passwd = \"YOUR_CA_PASSWORD\" , person_id = \"Person of this Ca\" , ) order = api . Order ( price = 90 , quantity = 10 , action = \"Buy\" , price_type = \"LMT\" , order_type = \"ROD\" , order_lot = \"IntradayOdd\" , octype = \"Auto\" , account = api . stock_account , ) trade = api . place_order ( contract , order ) trade Simulation import shioaji as sj api = sj . Shioaji ( simulation = True ) accounts = api . login ( \"PAPIUSER01\" , \"2222\" , contracts_timeout = 10000 ) order = api . Order ( price = 90 , quantity = 10 , action = \"Buy\" , price_type = \"LMT\" , order_type = \"ROD\" , order_lot = \"IntradayOdd\" , octype = \"Auto\" , account = api . stock_account , ) trade = api . place_order ( contract , order ) trade Out Trade ( contract = Stock ( exchange =< Exchange . TSE : 'TSE' > , code = '0050' , symbol = 'TSE0050' , name = '\u5143\u5927\u53f0\u706350' , category = '00' , limit_up = 115.8 , limit_down = 94.8 , eference = 105.3 , update_date = '2020/09/21' , margin_trading_balance = 15390 , short_selling_balance = 2 , day_trade =< DayTrade . Yes : 'Yes' > ), order = Order ( action =< Action . Buy : 'Buy' > , price = 90.0 , quantity = 10 , id = '38e68afe' , seqno = '482283' , ordno = 'WA313' , account = Account ( account_type =< AccountType . Stock : 'S' > , person_id = 'PAPIUSER04' , broker_id = '9A95' , account_id = '0506112' , signed = True ), price_type =< StockPriceType . LMT : 'LMT' > , order_type =< FuturesOrderType . ROD : 'ROD' > , order_lot =< TFTStockOrderLot . IntradayOdd : 'IntradayOdd' > ), status = OrderStatus ( id = '38e68afe' , status =< Status . Submitted : 'Submitted' > , status_code = '00' , order_datetime = datetime . datetime ( 2020 , 9 , 21 , 14 , 38 , 51 ), deals = [] ) ) Cancel Intraday Odd Order \u00b6 In api . update_status ( api . stock_account ) api . cancel_order ( trade ) api . update_status ( api . stock_account ) trade Out Trade ( contract = Stock ( exchange =< Exchange . TSE : 'TSE' > , code = '0050' , symbol = 'TSE0050' , name = '\u5143\u5927\u53f0\u706350' , category = '00' , limit_up = 115.8 , limit_down = 94.8 , reference = 105.3 , update_date = '2020/09/21' , margin_trading_balance = 15390 , short_selling_balance = 2 , day_trade =< DayTrade . Yes : 'Yes' > ), order = Order ( action =< Action . Buy : 'Buy' > , price = 90.0 , quantity = 10 , id = '9b44c3b2' , seqno = '482293' , ordno = 'WA328' , account = Account ( account_type =< AccountType . Stock : 'S' > , person_id = 'PAPIUSER04' , broker_id = '9A95' , account_id = '0506112' , signed = True ), price_type =< StockPriceType . LMT : 'LMT' > , order_type =< FuturesOrderType . ROD : 'ROD' > , order_lot =< TFTStockOrderLot . IntradayOdd : 'IntradayOdd' > ), status = OrderStatus ( id = '9b44c3b2' , status =< Status . Cancelled : 'Cancelled' > , status_code = '00' , order_datetime = datetime . datetime ( 2020 , 9 , 21 , 14 , 54 , 36 ), cancel_quantity = 10 , deals = [] ) ) Update Intraday Odd Order \u00b6 Attention Intraday Odd can't update price. In api . update_status ( api . stock_account ) api . update_order ( trade = trade , qty = 2 ) api . update_status ( api . stock_account ) trade Out Trade ( contract = Stock ( exchange =< Exchange . TSE : 'TSE' > , code = '0050' , symbol = 'TSE0050' , name = '\u5143\u5927\u53f0\u706350' , category = '00' , limit_up = 115.8 , limit_down = 94.8 , reference = 105.3 , update_date = '2020/09/21' , margin_trading_balance = 15390 , short_selling_balance = 2 , day_trade =< DayTrade . Yes : 'Yes' > ), order = Order ( action =< Action . Buy : 'Buy' > , price = 90.0 , quantity = 10 , id = '9b44c3b2' , seqno = '482293' , ordno = 'WA328' , account = Account ( account_type =< AccountType . Stock : 'S' > , person_id = 'PAPIUSER04' , broker_id = '9A95' , account_id = '0506112' , signed = True ), price_type =< StockPriceType . LMT : 'LMT' > , order_type =< FuturesOrderType . ROD : 'ROD' > , order_lot =< TFTStockOrderLot . IntradayOdd : 'IntradayOdd' > ), status = OrderStatus ( id = '9b44c3b2' , status =< Status . Submitted : 'Submitted' > , status_code = '00' , order_datetime = datetime . datetime ( 2020 , 9 , 21 , 14 , 54 , 36 ), cancel_quantity = 2 , deals = [] ) )","title":"Intraday Odd"},{"location":"tutor/order/IntradayOdd/#place-order","text":"Stock place order jupyter link","title":"Place Order"},{"location":"tutor/order/IntradayOdd/#first-you-need-login","text":"","title":"First, you need login."},{"location":"tutor/order/IntradayOdd/#for-example","text":"","title":"For Example"},{"location":"tutor/order/IntradayOdd/#place-order-intraday-odd","text":"In Production import shioaji as sj api = sj . Shioaji () accounts = api . login ( \"YOUR_PERSON_ID\" , \"YOUR_PASSWORD\" , contracts_timeout = 10000 ) api . activate_ca ( ca_path = \"/c/your/ca/path/Sinopac.pfx\" , ca_passwd = \"YOUR_CA_PASSWORD\" , person_id = \"Person of this Ca\" , ) order = api . Order ( price = 90 , quantity = 10 , action = \"Buy\" , price_type = \"LMT\" , order_type = \"ROD\" , order_lot = \"IntradayOdd\" , octype = \"Auto\" , account = api . stock_account , ) trade = api . place_order ( contract , order ) trade Simulation import shioaji as sj api = sj . Shioaji ( simulation = True ) accounts = api . login ( \"PAPIUSER01\" , \"2222\" , contracts_timeout = 10000 ) order = api . Order ( price = 90 , quantity = 10 , action = \"Buy\" , price_type = \"LMT\" , order_type = \"ROD\" , order_lot = \"IntradayOdd\" , octype = \"Auto\" , account = api . stock_account , ) trade = api . place_order ( contract , order ) trade Out Trade ( contract = Stock ( exchange =< Exchange . TSE : 'TSE' > , code = '0050' , symbol = 'TSE0050' , name = '\u5143\u5927\u53f0\u706350' , category = '00' , limit_up = 115.8 , limit_down = 94.8 , eference = 105.3 , update_date = '2020/09/21' , margin_trading_balance = 15390 , short_selling_balance = 2 , day_trade =< DayTrade . Yes : 'Yes' > ), order = Order ( action =< Action . Buy : 'Buy' > , price = 90.0 , quantity = 10 , id = '38e68afe' , seqno = '482283' , ordno = 'WA313' , account = Account ( account_type =< AccountType . Stock : 'S' > , person_id = 'PAPIUSER04' , broker_id = '9A95' , account_id = '0506112' , signed = True ), price_type =< StockPriceType . LMT : 'LMT' > , order_type =< FuturesOrderType . ROD : 'ROD' > , order_lot =< TFTStockOrderLot . IntradayOdd : 'IntradayOdd' > ), status = OrderStatus ( id = '38e68afe' , status =< Status . Submitted : 'Submitted' > , status_code = '00' , order_datetime = datetime . datetime ( 2020 , 9 , 21 , 14 , 38 , 51 ), deals = [] ) )","title":"Place Order Intraday Odd"},{"location":"tutor/order/IntradayOdd/#cancel-intraday-odd-order","text":"In api . update_status ( api . stock_account ) api . cancel_order ( trade ) api . update_status ( api . stock_account ) trade Out Trade ( contract = Stock ( exchange =< Exchange . TSE : 'TSE' > , code = '0050' , symbol = 'TSE0050' , name = '\u5143\u5927\u53f0\u706350' , category = '00' , limit_up = 115.8 , limit_down = 94.8 , reference = 105.3 , update_date = '2020/09/21' , margin_trading_balance = 15390 , short_selling_balance = 2 , day_trade =< DayTrade . Yes : 'Yes' > ), order = Order ( action =< Action . Buy : 'Buy' > , price = 90.0 , quantity = 10 , id = '9b44c3b2' , seqno = '482293' , ordno = 'WA328' , account = Account ( account_type =< AccountType . Stock : 'S' > , person_id = 'PAPIUSER04' , broker_id = '9A95' , account_id = '0506112' , signed = True ), price_type =< StockPriceType . LMT : 'LMT' > , order_type =< FuturesOrderType . ROD : 'ROD' > , order_lot =< TFTStockOrderLot . IntradayOdd : 'IntradayOdd' > ), status = OrderStatus ( id = '9b44c3b2' , status =< Status . Cancelled : 'Cancelled' > , status_code = '00' , order_datetime = datetime . datetime ( 2020 , 9 , 21 , 14 , 54 , 36 ), cancel_quantity = 10 , deals = [] ) )","title":"Cancel Intraday Odd Order"},{"location":"tutor/order/IntradayOdd/#update-intraday-odd-order","text":"Attention Intraday Odd can't update price. In api . update_status ( api . stock_account ) api . update_order ( trade = trade , qty = 2 ) api . update_status ( api . stock_account ) trade Out Trade ( contract = Stock ( exchange =< Exchange . TSE : 'TSE' > , code = '0050' , symbol = 'TSE0050' , name = '\u5143\u5927\u53f0\u706350' , category = '00' , limit_up = 115.8 , limit_down = 94.8 , reference = 105.3 , update_date = '2020/09/21' , margin_trading_balance = 15390 , short_selling_balance = 2 , day_trade =< DayTrade . Yes : 'Yes' > ), order = Order ( action =< Action . Buy : 'Buy' > , price = 90.0 , quantity = 10 , id = '9b44c3b2' , seqno = '482293' , ordno = 'WA328' , account = Account ( account_type =< AccountType . Stock : 'S' > , person_id = 'PAPIUSER04' , broker_id = '9A95' , account_id = '0506112' , signed = True ), price_type =< StockPriceType . LMT : 'LMT' > , order_type =< FuturesOrderType . ROD : 'ROD' > , order_lot =< TFTStockOrderLot . IntradayOdd : 'IntradayOdd' > ), status = OrderStatus ( id = '9b44c3b2' , status =< Status . Submitted : 'Submitted' > , status_code = '00' , order_datetime = datetime . datetime ( 2020 , 9 , 21 , 14 , 54 , 36 ), cancel_quantity = 2 , deals = [] ) )","title":"Update Intraday Odd Order"},{"location":"tutor/order/Stock/","text":"Place Order \u00b6 Stock place order jupyter link First, you need login. \u00b6 Get Contract Object. \u00b6 In contract = api . Contracts . Stocks . TSE . TSE2890 Making Order Object. \u00b6 Buy \u00b6 In order = api . Order ( price = 12 , quantity = 1 , action = \"Buy\" , price_type = \"LMT\" , order_type = \"ROD\" , order_lot = \"Common\" , account = api . stock_account ) Sell \u00b6 In order = api . Order ( price = 12 , quantity = 1 , action = \"Sell\" , price_type = \"LMT\" , order_type = \"ROD\" , order_lot = \"Common\" , account = api . stock_account ) First Sell \u00b6 In order = api . Order ( price = 12 , quantity = 1 , action = \"Sell\" , price_type = \"LMT\" , order_type = \"ROD\" , order_lot = \"Common\" , first_sell = \"true\" , account = api . stock_account ) Order Object \u00b6 Attributes price ( float or int ): the price of order quantity ( int ): the quantity of order action ( str ): order action to buy or sell { Buy , Sell } price_type ( str ): pricing type of order { LMT , MKT , MKP } order_type ( str ): the type of order { ROD , IOC , FOK } order_cond ( str ): order condition stock only { Cash , Netting , MarginTrading , ShortSelling } ( \u73fe\u80a1 \u3001 \u9918\u984d\u4ea4\u5272 \u3001 \u878d\u8cc7 \u3001 \u878d\u5238 ) order_lot ( str ): the type of order { Common , Fixing , Odd } ( \u6574\u80a1 \u3001 \u5b9a\u76e4 \u3001 \u96f6\u80a1 ) first_sell { str }: the type of first sell { true , false } account (: obj : Account ): which account to place this order ca ( binary ): the ca of this order Place Order \u00b6 In trade = api . place_order ( contract , order ) For Example \u00b6 Place Order ROD LMT \u00b6 In Production import shioaji as sj api = sj . Shioaji () accounts = api . login ( \"YOUR_PERSON_ID\" , \"YOUR_PASSWORD\" , contracts_timeout = 10000 ) api . activate_ca ( ca_path = \"/c/your/ca/path/Sinopac.pfx\" , ca_passwd = \"YOUR_CA_PASSWORD\" , person_id = \"Person of this Ca\" , ) contract = api . Contracts . Stocks . TSE . TSE2890 order = api . Order ( price = 12 , quantity = 10 , action = \"Buy\" , price_type = \"LMT\" , order_type = \"ROD\" , account = api . stock_account ) trade = api . place_order ( contract , order ) trade Simulation import shioaji as sj api = sj . Shioaji ( simulation = True ) accounts = api . login ( \"PAPIUSER01\" , \"2222\" , contracts_timeout = 10000 ) contract = api . Contracts . Stocks . TSE . TSE2890 order = api . Order ( price = 12 , quantity = 10 , action = \"Buy\" , price_type = \"LMT\" , order_type = \"ROD\" , account = api . stock_account ) trade = api . place_order ( contract , order ) trade Out Trade ( contract = Stock ( exchange =< Exchange . TSE : 'TSE' > , code = '2890' , symbol = 'TSE2890' , name = '\u6c38\u8c50\u91d1' , category = '17' ), order = Order ( action =< Action . Buy : 'Buy' > , price = 12.0 , quantity = 10 , id = '004d9bed' , seqno = '427793' , ordno = 'WA345' , account = Account ( account_type =< AccountType . Stock : 'S' > , person_id = 'RBCCJCBIGB' , broker_id = '9A95' , account_id = '9809975' , signed = True ), price_type =< StockPriceType . LMT : 'LMT' > , order_type =< FuturesOrderType . ROD : 'ROD' > ), status = OrderStatus ( id = '004d9bed' , status =< Status . PendingSubmit : 'PendingSubmit' > , status_code = '0' , order_datetime = datetime . datetime ( 2020 , 3 , 3 , 15 , 16 , 40 ), deals = [] ) ) Place Order about First Sell \u00b6 In Production import shioaji as sj api = sj . Shioaji () accounts = api . login ( \"YOUR_PERSON_ID\" , \"YOUR_PASSWORD\" , contracts_timeout = 10000 ) api . activate_ca ( ca_path = \"/c/your/ca/path/Sinopac.pfx\" , ca_passwd = \"YOUR_CA_PASSWORD\" , person_id = \"Person of this Ca\" , ) contract = api . Contracts . Stocks . TSE . TSE2890 order = api . Order ( price = 14 , quantity = 1 , action = \"Sell\" , price_type = \"LMT\" , order_type = \"ROD\" , first_sell = \"true\" , account = api . stock_account ) trade = api . place_order ( contract , order ) trade Simulation import shioaji as sj api = sj . Shioaji ( simulation = True ) accounts = api . login ( \"PAPIUSER01\" , \"2222\" , contracts_timeout = 10000 ) contract = api . Contracts . Stocks . TSE . TSE2890 order = api . Order ( price = 14 , quantity = 1 , action = \"Sell\" , price_type = \"LMT\" , order_type = \"ROD\" , first_sell = \"true\" , account = api . stock_account ) trade = api . place_order ( contract , order ) trade Out Trade ( contract = Stock ( exchange =< Exchange . TSE : 'TSE' > , code = '2890' , symbol = 'TSE2890' , name = '\u6c38\u8c50\u91d1' , category = '17' , day_trade = 'Yes' ), order = Order ( action =< Action . Sell : 'Sell' > , price = 14 , quantity = 1 , id = '2bc5ae85' , seqno = '620137' , ordno = '00000' , account = Account ( account_type =< AccountType . Stock : 'S' > , person_id = 'RBCCJCBIGB' , broker_id = '9A95' , account_id = '9809975' , signed = True ), price_type =< StockPriceType . LMT : 'LMT' > , order_type =< FuturesOrderType . ROD : 'ROD' > , first_sell =< StockFirstSell . Yes : 'true' > ), status = OrderStatus ( id = '2bc5ae85' , status =< Status . PendingSubmit : 'PendingSubmit' > , status_code = '0' , order_datetime = datetime . datetime ( 2020 , 3 , 9 , 8 , 59 , 42 ), deals = [] ) ) Status of Trade PendingSubmit : \u50b3\u9001\u4e2d PreSubmitted : \u9810\u7d04\u55ae Submitted : \u50b3\u9001\u6210\u529f Failed : \u5931\u6557 Cancelled : \u5df2\u522a\u9664 Filled : \u5b8c\u5168\u6210\u4ea4 Filling : \u90e8\u5206\u6210\u4ea4 Cancel Order \u00b6 In api . update_status ( api . stock_account ) api . cancel_order ( trade ) api . update_status ( api . stock_account ) trade Out Trade ( contract = Stock ( exchange =< Exchange . TSE : 'TSE' > , code = '2890' , symbol = 'TSE2890' , name = '\u6c38\u8c50\u91d1' , category = '17' ), order = Order ( action =< Action . Buy : 'Buy' > , price = 12.0 , quantity = 10 , id = 'f3d8afdb' , seqno = '427797' , ordno = 'WA347' , account = Account ( account_type =< AccountType . Stock : 'S' > , person_id = 'RBCCJCBIGB' , broker_id = '9A95' , account_id = '9809975' , signed = True ), price_type =< StockPriceType . LMT : 'LMT' > , order_type =< FuturesOrderType . ROD : 'ROD' > ), status = OrderStatus ( id = 'f3d8afdb' , status =< Status . Cancelled : 'Cancelled' > , status_code = '00' , order_datetime = datetime . datetime ( 2020 , 3 , 3 , 15 , 17 , 49 ), cancel_quantity = 10 , deals = [] ) ) Update Order \u00b6 In api . update_status ( api . stock_account ) api . update_order ( trade = trade , price = 12 , qty = 2 ) api . update_status ( api . stock_account ) trade Out Trade ( contract = Stock ( exchange =< Exchange . TSE : 'TSE' > , code = '2890' , symbol = 'TSE2890' , name = '\u6c38\u8c50\u91d1' , category = '17' ), order = Order ( action =< Action . Buy : 'Buy' > , price = 12.0 , quantity = 10 , id = 'd5bfb75c' , seqno = '427795' , ordno = 'WA346' , account = Account ( account_type =< AccountType . Stock : 'S' > , person_id = 'RBCCJCBIGB' , broker_id = '9A95' , account_id = '9809975' , signed = True ), price_type =< StockPriceType . LMT : 'LMT' > , order_type =< FuturesOrderType . ROD : 'ROD' > ), status = OrderStatus ( id = 'd5bfb75c' , status =< Status . Submitted : 'Submitted' > , status_code = '00' , order_datetime = datetime . datetime ( 2020 , 3 , 3 , 15 , 17 , 17 ), cancel_quantity = 2 , deals = [] ) )","title":"Stock"},{"location":"tutor/order/Stock/#place-order","text":"Stock place order jupyter link","title":"Place Order"},{"location":"tutor/order/Stock/#first-you-need-login","text":"","title":"First, you need login."},{"location":"tutor/order/Stock/#get-contract-object","text":"In contract = api . Contracts . Stocks . TSE . TSE2890","title":"Get Contract Object."},{"location":"tutor/order/Stock/#making-order-object","text":"","title":"Making Order Object."},{"location":"tutor/order/Stock/#buy","text":"In order = api . Order ( price = 12 , quantity = 1 , action = \"Buy\" , price_type = \"LMT\" , order_type = \"ROD\" , order_lot = \"Common\" , account = api . stock_account )","title":"Buy"},{"location":"tutor/order/Stock/#sell","text":"In order = api . Order ( price = 12 , quantity = 1 , action = \"Sell\" , price_type = \"LMT\" , order_type = \"ROD\" , order_lot = \"Common\" , account = api . stock_account )","title":"Sell"},{"location":"tutor/order/Stock/#first-sell","text":"In order = api . Order ( price = 12 , quantity = 1 , action = \"Sell\" , price_type = \"LMT\" , order_type = \"ROD\" , order_lot = \"Common\" , first_sell = \"true\" , account = api . stock_account )","title":"First Sell"},{"location":"tutor/order/Stock/#order-object","text":"Attributes price ( float or int ): the price of order quantity ( int ): the quantity of order action ( str ): order action to buy or sell { Buy , Sell } price_type ( str ): pricing type of order { LMT , MKT , MKP } order_type ( str ): the type of order { ROD , IOC , FOK } order_cond ( str ): order condition stock only { Cash , Netting , MarginTrading , ShortSelling } ( \u73fe\u80a1 \u3001 \u9918\u984d\u4ea4\u5272 \u3001 \u878d\u8cc7 \u3001 \u878d\u5238 ) order_lot ( str ): the type of order { Common , Fixing , Odd } ( \u6574\u80a1 \u3001 \u5b9a\u76e4 \u3001 \u96f6\u80a1 ) first_sell { str }: the type of first sell { true , false } account (: obj : Account ): which account to place this order ca ( binary ): the ca of this order","title":"Order Object"},{"location":"tutor/order/Stock/#place-order_1","text":"In trade = api . place_order ( contract , order )","title":"Place Order"},{"location":"tutor/order/Stock/#for-example","text":"","title":"For Example"},{"location":"tutor/order/Stock/#place-order-rod-lmt","text":"In Production import shioaji as sj api = sj . Shioaji () accounts = api . login ( \"YOUR_PERSON_ID\" , \"YOUR_PASSWORD\" , contracts_timeout = 10000 ) api . activate_ca ( ca_path = \"/c/your/ca/path/Sinopac.pfx\" , ca_passwd = \"YOUR_CA_PASSWORD\" , person_id = \"Person of this Ca\" , ) contract = api . Contracts . Stocks . TSE . TSE2890 order = api . Order ( price = 12 , quantity = 10 , action = \"Buy\" , price_type = \"LMT\" , order_type = \"ROD\" , account = api . stock_account ) trade = api . place_order ( contract , order ) trade Simulation import shioaji as sj api = sj . Shioaji ( simulation = True ) accounts = api . login ( \"PAPIUSER01\" , \"2222\" , contracts_timeout = 10000 ) contract = api . Contracts . Stocks . TSE . TSE2890 order = api . Order ( price = 12 , quantity = 10 , action = \"Buy\" , price_type = \"LMT\" , order_type = \"ROD\" , account = api . stock_account ) trade = api . place_order ( contract , order ) trade Out Trade ( contract = Stock ( exchange =< Exchange . TSE : 'TSE' > , code = '2890' , symbol = 'TSE2890' , name = '\u6c38\u8c50\u91d1' , category = '17' ), order = Order ( action =< Action . Buy : 'Buy' > , price = 12.0 , quantity = 10 , id = '004d9bed' , seqno = '427793' , ordno = 'WA345' , account = Account ( account_type =< AccountType . Stock : 'S' > , person_id = 'RBCCJCBIGB' , broker_id = '9A95' , account_id = '9809975' , signed = True ), price_type =< StockPriceType . LMT : 'LMT' > , order_type =< FuturesOrderType . ROD : 'ROD' > ), status = OrderStatus ( id = '004d9bed' , status =< Status . PendingSubmit : 'PendingSubmit' > , status_code = '0' , order_datetime = datetime . datetime ( 2020 , 3 , 3 , 15 , 16 , 40 ), deals = [] ) )","title":"Place Order ROD LMT"},{"location":"tutor/order/Stock/#place-order-about-first-sell","text":"In Production import shioaji as sj api = sj . Shioaji () accounts = api . login ( \"YOUR_PERSON_ID\" , \"YOUR_PASSWORD\" , contracts_timeout = 10000 ) api . activate_ca ( ca_path = \"/c/your/ca/path/Sinopac.pfx\" , ca_passwd = \"YOUR_CA_PASSWORD\" , person_id = \"Person of this Ca\" , ) contract = api . Contracts . Stocks . TSE . TSE2890 order = api . Order ( price = 14 , quantity = 1 , action = \"Sell\" , price_type = \"LMT\" , order_type = \"ROD\" , first_sell = \"true\" , account = api . stock_account ) trade = api . place_order ( contract , order ) trade Simulation import shioaji as sj api = sj . Shioaji ( simulation = True ) accounts = api . login ( \"PAPIUSER01\" , \"2222\" , contracts_timeout = 10000 ) contract = api . Contracts . Stocks . TSE . TSE2890 order = api . Order ( price = 14 , quantity = 1 , action = \"Sell\" , price_type = \"LMT\" , order_type = \"ROD\" , first_sell = \"true\" , account = api . stock_account ) trade = api . place_order ( contract , order ) trade Out Trade ( contract = Stock ( exchange =< Exchange . TSE : 'TSE' > , code = '2890' , symbol = 'TSE2890' , name = '\u6c38\u8c50\u91d1' , category = '17' , day_trade = 'Yes' ), order = Order ( action =< Action . Sell : 'Sell' > , price = 14 , quantity = 1 , id = '2bc5ae85' , seqno = '620137' , ordno = '00000' , account = Account ( account_type =< AccountType . Stock : 'S' > , person_id = 'RBCCJCBIGB' , broker_id = '9A95' , account_id = '9809975' , signed = True ), price_type =< StockPriceType . LMT : 'LMT' > , order_type =< FuturesOrderType . ROD : 'ROD' > , first_sell =< StockFirstSell . Yes : 'true' > ), status = OrderStatus ( id = '2bc5ae85' , status =< Status . PendingSubmit : 'PendingSubmit' > , status_code = '0' , order_datetime = datetime . datetime ( 2020 , 3 , 9 , 8 , 59 , 42 ), deals = [] ) ) Status of Trade PendingSubmit : \u50b3\u9001\u4e2d PreSubmitted : \u9810\u7d04\u55ae Submitted : \u50b3\u9001\u6210\u529f Failed : \u5931\u6557 Cancelled : \u5df2\u522a\u9664 Filled : \u5b8c\u5168\u6210\u4ea4 Filling : \u90e8\u5206\u6210\u4ea4","title":"Place Order about First Sell"},{"location":"tutor/order/Stock/#cancel-order","text":"In api . update_status ( api . stock_account ) api . cancel_order ( trade ) api . update_status ( api . stock_account ) trade Out Trade ( contract = Stock ( exchange =< Exchange . TSE : 'TSE' > , code = '2890' , symbol = 'TSE2890' , name = '\u6c38\u8c50\u91d1' , category = '17' ), order = Order ( action =< Action . Buy : 'Buy' > , price = 12.0 , quantity = 10 , id = 'f3d8afdb' , seqno = '427797' , ordno = 'WA347' , account = Account ( account_type =< AccountType . Stock : 'S' > , person_id = 'RBCCJCBIGB' , broker_id = '9A95' , account_id = '9809975' , signed = True ), price_type =< StockPriceType . LMT : 'LMT' > , order_type =< FuturesOrderType . ROD : 'ROD' > ), status = OrderStatus ( id = 'f3d8afdb' , status =< Status . Cancelled : 'Cancelled' > , status_code = '00' , order_datetime = datetime . datetime ( 2020 , 3 , 3 , 15 , 17 , 49 ), cancel_quantity = 10 , deals = [] ) )","title":"Cancel Order"},{"location":"tutor/order/Stock/#update-order","text":"In api . update_status ( api . stock_account ) api . update_order ( trade = trade , price = 12 , qty = 2 ) api . update_status ( api . stock_account ) trade Out Trade ( contract = Stock ( exchange =< Exchange . TSE : 'TSE' > , code = '2890' , symbol = 'TSE2890' , name = '\u6c38\u8c50\u91d1' , category = '17' ), order = Order ( action =< Action . Buy : 'Buy' > , price = 12.0 , quantity = 10 , id = 'd5bfb75c' , seqno = '427795' , ordno = 'WA346' , account = Account ( account_type =< AccountType . Stock : 'S' > , person_id = 'RBCCJCBIGB' , broker_id = '9A95' , account_id = '9809975' , signed = True ), price_type =< StockPriceType . LMT : 'LMT' > , order_type =< FuturesOrderType . ROD : 'ROD' > ), status = OrderStatus ( id = 'd5bfb75c' , status =< Status . Submitted : 'Submitted' > , status_code = '00' , order_datetime = datetime . datetime ( 2020 , 3 , 3 , 15 , 17 , 17 ), cancel_quantity = 2 , deals = [] ) )","title":"Update Order"},{"location":"zh-tw/","text":"Shioaji \u00b6 Shioaji is the most pythonic API for trading the Taiwan and global financial market. You can integrated your favorite Python packages such as NumPy, pandas, PyTorch or TensorFlow to build your trading model with the Shioaji API on cross-platform. We are in early-release alpha. Expect some adventures and rough edges. The key features are: Fast: High performance with c++ implement core and FPGA event broker. Easy: Designed to be easy to use and learn. Fast to code: With native python to integrate with large python ecosystem. Cross-Platform: The first one python trading API with Linux compatible in Taiwan. Installation \u00b6 Binaries \u00b6 simple using pip to install pip install shioaji update shioaji with pip install -U shioaji Docker Image \u00b6 simple run with interactive mode in docker docker run -it sinotrade/shioaji:latest run with jupyter lab or notebook docker run -p 8888:8888 sinotrade/shioaji:jupyter","title":"zh-tw"},{"location":"zh-tw/#shioaji","text":"Shioaji is the most pythonic API for trading the Taiwan and global financial market. You can integrated your favorite Python packages such as NumPy, pandas, PyTorch or TensorFlow to build your trading model with the Shioaji API on cross-platform. We are in early-release alpha. Expect some adventures and rough edges. The key features are: Fast: High performance with c++ implement core and FPGA event broker. Easy: Designed to be easy to use and learn. Fast to code: With native python to integrate with large python ecosystem. Cross-Platform: The first one python trading API with Linux compatible in Taiwan.","title":"Shioaji"},{"location":"zh-tw/#installation","text":"","title":"Installation"},{"location":"zh-tw/#binaries","text":"simple using pip to install pip install shioaji update shioaji with pip install -U shioaji","title":"Binaries"},{"location":"zh-tw/#docker-image","text":"simple run with interactive mode in docker docker run -it sinotrade/shioaji:latest run with jupyter lab or notebook docker run -p 8888:8888 sinotrade/shioaji:jupyter","title":"Docker Image"}]}